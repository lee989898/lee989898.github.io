<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Lambda Calculus​</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹 폰트 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="공부 블로그" />
    <link rel="shortcut icon" href="https://lee989898.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://lee989898.github.io/pl-19" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    


     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="LEE" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Lambda Calculus​" />
    <meta property="og:description" content="Lambda Calculus​ Why functional programming?​ 함수 프로그래밍이 왜 필요한가? 소프트웨어 제품이 신뢰성이 낮고, 관리하기 어려우며, 올바른지 증명하기 하기 어렵다. 그 이유는 다음과 같다 소프트웨어를 새로 릴리즈할 때마다, 알려진 오류는 수정되나 새로운 오류가 발견된다​ 소프트웨어의 정밀한 설계는 오랜 기간의 연구 개발을 필요로 하나, 현실적으로 시장 출시 압박이 우선한다 ​ 하드웨어의 처리" />
    <meta property="og:url" content="https://lee989898.github.io/pl-19" />
    <meta property="og:image" content="https://lee989898.github.io/assets/built/images/pl-background-frontend.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-11-17T19:18:00+09:00" />
    <meta property="article:modified_time" content="2021-11-17T19:18:00+09:00" />
    <meta property="article:tag" content="Pl" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Lambda Calculus​" />
    <meta name="twitter:description" content="Lambda Calculus​ Why functional programming?​ 함수 프로그래밍이 왜 필요한가? 소프트웨어 제품이 신뢰성이 낮고, 관리하기 어려우며, 올바른지 증명하기 하기 어렵다. 그 이유는 다음과 같다 소프트웨어를 새로 릴리즈할 때마다, 알려진 오류는 수정되나 새로운 오류가 발견된다​ 소프트웨어의 정밀한 설계는 오랜 기간의 연구 개발을 필요로 하나, 현실적으로 시장 출시 압박이 우선한다 ​ 하드웨어의 처리" />
    <meta name="twitter:url" content="https://lee989898.github.io/" />
    <meta name="twitter:image" content="https://lee989898.github.io/assets/built/images/pl-background-frontend.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="LEE" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Pl" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "LEE",
        "logo": "https://lee989898.github.io/"
    },
    "url": "https://lee989898.github.io/pl-19",
    "image": {
        "@type": "ImageObject",
        "url": "https://lee989898.github.io/assets/built/images/pl-background-frontend.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://lee989898.github.io/pl-19"
    },
    "description": "Lambda Calculus​ Why functional programming?​ 함수 프로그래밍이 왜 필요한가? 소프트웨어 제품이 신뢰성이 낮고, 관리하기 어려우며, 올바른지 증명하기 하기 어렵다. 그 이유는 다음과 같다 소프트웨어를 새로 릴리즈할 때마다, 알려진 오류는 수정되나 새로운 오류가 발견된다​ 소프트웨어의 정밀한 설계는 오랜 기간의 연구 개발을 필요로 하나, 현실적으로 시장 출시 압박이 우선한다 ​ 하드웨어의 처리"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Lambda Calculus​" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://lee989898.github.io/">LEE</a>
            
        
        
            
<ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-kotlin" role="menuitem"><a href="/tag/kotlin/">코틀린</a></li>
    <li class="nav-algorithm" role="menuitem"><a href="/tag/algorithm/">알고리즘</a></li>
    <li class="nav-pl" role="menuitem"><a href="/tag/pl/">프로그래밍언어</a></li>
    <li class="nav-security" role="menuitem"><a href="/tag/security/">컴퓨터보안</a></li>
    <li class="nav-system" role="menuitem"><a href="/tag/system/">시스템프로그래밍</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>


</ul>



        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-pl post tag-study ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="17 November 2021">17 November 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/pl/'>PL</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Lambda Calculus​</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/pl-background-frontend.png)">
            </figure>
            
            -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h3 id="lambda-calculus"><strong>Lambda Calculus​</strong></h3>

<hr />

<h2 id="why-functional-programming"><strong>Why functional programming?​</strong></h2>

<hr />

<p>함수 프로그래밍이 왜 필요한가?<br />
소프트웨어 제품이 신뢰성이 낮고, 관리하기 어려우며, 올바른지 증명하기 하기 어렵다. 그 이유는 다음과 같다</p>
<ul>
  <li>소프트웨어를 새로 릴리즈할 때마다, 알려진 오류는 수정되나 새로운 오류가 발견된다​</li>
  <li>소프트웨어의 정밀한 설계는 오랜 기간의 연구 개발을 필요로 하나, 현실적으로 시장 출시 압박이 우선한다 ​</li>
  <li>하드웨어의 처리 능력이 증가함에 따라 과거에 못하던 복잡한 어플리케이션을 자동화하느라, 소프트웨어의 복잡도가 증가한다</li>
</ul>

<p>이러한 현상을 극복하기 위해, 컴퓨터 과학자들은 두가지 중요한 문제를 풀어야 한다</p>
<ul>
  <li>저비용으로 대규모 소프트웨어의 신뢰성과 사용자 편의성을 개선하는 방법 ​</li>
  <li>저비용으로 처리 능력을 증가시키는 방법</li>
</ul>

<p>이러한 문제에 대한 해결책으로</p>
<ul>
  <li>명령형 프로그래밍을 지지하는 측에서는, 소프트웨어 공학, 프로그램 증명 기법, 스펙을 프로그램으로 변환하는 기법, 새로운 (병렬) 컴퓨터 아키텍처 등을 연구해 왔다</li>
  <li>함수 프로그래밍을 지지하는 측에서는 프로그램으로서의 함수를 대안으로 연구해 왔다</li>
</ul>

<hr />

<h2 id="imperative-and-functional-programming-style"><strong>Imperative and Functional programming style​</strong></h2>

<hr />

<p>계산 모델을 튜링 머신에 기반한 IPL은 기본 개념으로 ​메모리, 변수, 할당문, 반복처리(iteration)을 갖는다</p>
<ul>
  <li>메모리는 프로그램과 데이터를 저장한다</li>
  <li>변수는 메모리 셀을 차지하고 있으며, 계산 결과의 변화에 따라 변경 가능한 값을 저장한다 ​</li>
  <li>할당문은 계산 결과를 메모리에 저장하며, 이를 통해 변수의 값을 변경시킨다</li>
  <li>Iteration은 값이 변하는 변수를 통해 반복처리를 제어한다</li>
</ul>

<p>명령형 프로그래밍의 장점은 실행 시스템의 구현이 단순하고 저비용 고효율이다<br />
명령형 프로그래밍의 단점은 ​</p>
<ul>
  <li>Goto는 아무런 조건없이 점프만하기 때문에, ​프로그램의 올바름을 판단하기 어렵게 만든다</li>
  <li>난로컬 변수와 할당문으로 인해 부작용이 발생하며, ​이로 인해 프로그램의 올바름을 판단하기 어렵게 만든다</li>
  <li>알고리즘의 어느 부분이 동시 처리 가능한지, ​동시처리하면 안되는지 탐지하기 어려워서, ​알고리즘이 필요 이상으로 순차적이다​</li>
  <li>최근 들어 많은 연구자들은 소프트웨어 위기와 속도 문제가 ​명령형 언어와 튜링 머신의 계산 모델에 기인한다고 추측하고 있다</li>
</ul>

<p>함수 프로그램에서는</p>
<ul>
  <li>함수 파라미터의 실제 ‘값’이 함수 호출의 결과를 유일하게 결정한다 ​</li>
  <li>할당문이 없어서 함수의 부작용이 발생할 수 없다</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FUNCTION increment (INTEGER value) : INTEGER;​
BEGIN​
value + 1​
END;​
:​
print(increment (41));​ 
print(increment (41));​
</code></pre></div></div>

<p>함수의 결과는 파라미터의 값에 의해서만 결정되므로, ​어떠한 조건 하에서도 그 결과는 같다. ​이것을 referential transparenc라고 한다. ​이러한 이유로, 함수 increment의 결과 값은 둘다 42이다</p>

<p>함수 프로그래밍 언어에서는 함수를 ‘일등 시민’으로 취급한다. 따라서 함수를 파라미터로 주고 받을 수 있다<br />
명령형 프로그래밍 언어에서는 함수를 파라미터로 주고 받을 수 없다<br />
함수 프로그래밍 언어는 함수의 일반적인 사용(합성 함수 f(g(x)) 등)을 지원한다. 이것은 종래의 명령형 언어에서 허용되지 않는다</p>

<p>함수 프로그래밍 언어는 계산 모형을 람다 계산학에 기반하고 있으며, ​기본 개념으로 표현식(expression), 리커젼, 평가, 변수가 있다<br />
표현식은 수학식을 의미하며, ​리커젼은 재귀 함수에 의한 반복처리로서, iteration과 다르다<br />
평가는 함수의 실행을 의미하지만, 아무 것도 수정하지 않는다<br />
변수는 수학적 의미의 변수로서 알려지지 않은 값을 가지며, ​구체적인 값의 추상화일 뿐, 메모리를 차지하지 않는다. 따라서 값의 placeholder 역할을 하며, 수정 불가능하다<br />
FPL에서는 명령형 언어적 의미의 변수가 없으므로, ​iteration이 불가능하며, ​대신에 반복처리를 위한 리커젼이 있다</p>

<p>FPL의 장점은 ​IPL의 기본 개념이 없어서, 소프트웨어 신뢰성을 높인다<br />
프로그래머는 함수를 정의하기만 하고, 인터프리터(실행 시스템)가 계산한다
할당문이 없고, 변수의 개념이 IPL의 변수와 다르고, 부작용이 없다<br />
변수는 ‘아직 알려지지 않은 값’을 명명하고 언급한다<br />
부작용이 없어서, 올바름 증명이 쉽고, 함수의 평가는 순서에 무관하다. 따라서 FPL은 병렬 처리에 적합하다</p>

<p>FPL의 단점은, ​우선, 실행 속도가 매우 느려서 비효율적이다<br />
그 이유는 다음과 같다</p>
<ul>
  <li>머신 아키텍처가 함수 언어에 적합하게 설계되지 않았다 ​</li>
  <li>함수 호출 비용이 비싸다. 특히 지연 평가시에</li>
  <li>파괴적 갱신(갱신되면 먼저 값이 없어짐)에 적합하므로, ​효율적인 컴파일 방법을 찾기 어렵고, 어떤 알고리즘에 대해, 시간 및 공간 복잡도가 너무 높다. ​이러한 경우에 효율을 위해 프로그램 변환이 필요하다</li>
  <li>아직 효율적인 컴파일 방법이 널리 사용 가능하지 않다. 많은 경우에 함수 프로그램의 효율이 받아 들일 수 있는 수준에 있지만, ​컴파일 방법이 매우 복잡하고 연구 수준에 머물어 있다<br />
명령형 프로그램의 특성이 강한 어플리케이션에 아직 부적합하다</li>
  <li>상호 작용이 강한 어플리케이션을 함수 프로그래밍 스타일로 표현하는 능력이 아직은 부족하다. 이들 어플리케이션으로는 상호적 프로그램, DBMS, OS, 프로세스 컨트롤 등이다</li>
  <li>함수 프로그래밍 기술 개발이 필요하다. 함수 스타일로 표현하기 어려운 어플리케이션을 함수 스타일로 표현하는 방법을 개발하는 것이 필요하다.  현재, 윈도우, 다이알로그, 메뉴 등을 사용하는 상호적 프로그램을 함수 언어로 명세화하는 방법이 알려져 있다</li>
</ul>

<hr />

<h2 id="functions-as-programs-"><strong>Functions as programs</strong> ​</h2>

<hr />

<p>함수가 프로그램인가?</p>

<p>팩토리알을 구하는 함수는 프로그램이라고 간주해도 문제가 없다. ​프로그램의 종료 확인 함수(Halting)는 계산 가능하지 않고, 따라서 원하는 결과를 생산하지 못한다<br />
함수가 임의의 프로그램에 대해 halting 함수를 계산한다고 하자. ​만일 파라미터 프로그램이 종료되지 않는다면 ​Halting 함수는 종료되지 않을 것이고, ​Result 0이 절대로 생산되지 않는다</p>

<p>이들 예에서 함수는 람다 계산학에 기반한 계산 모델을 사용하여 평가된다. 평가는 IPL의 실행과 유사하지만, IPL의 파괴적 갱신이 없다는 면에서 다르다.​ 람다 계산학은 함수 정의 방식과 변수 대체 규칙(substitution)으로 구성된다</p>

<p>FPL로 작성된 프로그램은 함수의 모음과 초기 표현식으로 구성된다. ​초기 표현식이란 모든 파라미터가 상수인 (또는 상수로 대체된) 표현식을 말하는데, ​이 식은 평가되어야 한다. -&gt; reduce​</p>

<p>함수 정의는 표현식 내에서 다음 형태로 구성된다. ​(여기서는 scheme 문법을 차용함)<br />
define (함수명 파라미터1 … 파라미터n) 표현식)<br />
이와 같이 함수 프로그램을 정의하는 것은 recursive하다<br />
표현식은 함수 결과를 명세화하며, 값, 파라미터, 함수 적용(application)을 나타낸다. ​</p>

<p>함수 적용(application), (f a)는 함수 f를 a에 적용하라는 뜻이다<br />
초기 표현식은 (+ 2 3), (squareinc 5)과 같이 계산될 수 있는 표현식이다</p>

<hr />

<h2 id="evaluation-of-functional-programs"><strong>Evaluation of functional programs​</strong></h2>

<hr />

<p>함수 프로그램의 평가는 실행이나 계산을 의미하는데, 이것은 초기 표현식의 평가와 리덕션(표현식의 축소화)에 의한다<br />
초기 표현식의 평가는 인터프리터가 수행하며, ​반복적으로 리덕션(또는 rewriting)을 수행한다</p>

<p>예를 들어 ​</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(ident 42) → 42​
(square (+ 1 2)) → (square 3) → (* 3 3) → 9​
(squareinc 7) → (square (inc 7) → (square (+ 7 1)) → (square 8) → (*8 8) → 64​
</code></pre></div></div>

<p>각 리덕션 단계에서(화살표로 표시)</p>

<ol>
  <li>함수 적용은 함수의 파라미터를 대응하는 함수 body로 교체하는 것이다. 리덕션 가능한 표현식(redex)은 함수 정의에 따라 rewrite 될 수 있는 서브 표현식을 말한다</li>
  <li>다음 상황에서 리덕션 과정이 끝난다​
    <ul>
      <li>더 이상 redex가 남아 있지 않고 ​(즉, 더 이상 어떠한 함수 정의라도 적용할 수 없을 때)​</li>
      <li>초기 표현식이 가장 단순한 형태(normal form; 상수만 있는 축소화된 표현식)에 있을 때, ​결과를 프린트하고 종료한다​</li>
    </ul>
  </li>
</ol>

<blockquote>
  <p>Order of Evaluation</p>
</blockquote>

<p>부작용이 없어서, 평가 순서는 무관하다. ​리덕션 가능한 표현식이 다 없어진 후에, ​계산 결과는 항상 같고, 유일하다</p>

<p>그러나 순서가 완전히 무관한 것은 아니다. ​경우에 따라 리덕션 순서는 결과를 생산하지 못할 뿐더러 종료되지 않을 수 있다</p>

<p>종료 못하는 리덕션 순서의 예:<br />
리커젼 함수의 정의가</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>​(define (inf x) (inf x))
(define (alwaysseven x) 7)
</code></pre></div></div>

<p>만일 앞의 것을 먼저 계산하면, ​(alwaysseven (inf 2)) → (alwaysseven (inf 2)) → … 종료되지 않는다<br />
그러나 뒤의 것을 먼저 계산하면, ​(alwaysseven (inf 2)) → 7로 종료된다</p>

<p>리덕션 전략에는 call by value, call by name이 있다</p>

<p>먼저 리슾, 스킴, 엠엘 등에서 사용되는 call by value를 살펴 보자</p>
<ul>
  <li>Eager, strict evaluation이라고 한다. ​</li>
  <li>리덕션 절차에 의해 함수 적용 그 자체가 리덕션 가능한 표현식이라고 간주(확인)되기 전에, ​함수의 파라미터를 항상 리덕션한다 (그것이 초기 표현식일 때) ​</li>
  <li>파리미터에 대한 함수 적용은 그 파라미터가 값일때만, 리덕션 가능한 표현식이 된다</li>
  <li>조건 연산자 if의 적용 후에, if의 파라미터를 평가한다</li>
</ul>

<p>하스켈에서 사용되는 Call by name를 살펴 보자</p>
<ul>
  <li>lazy evaluation이라고 한다</li>
  <li>값이 알려져서 초기 표현식이 되고 값을 반환해야 할 때가 되면, ​비로소 리덕션 가능한 서브 표현식의 값이 계산된다​</li>
  <li>조건 함수의 call by name은 ​첫째 파라미터(if 다음의 부울식)의 평가를 요구한다</li>
</ul>

<p>정리하면, ​Eager는 초기 표현식이 만들어지면 바로 계산하여 리덕션(축소화)하지만, ​Lazy는 초기 표현식이 만들어지더라도 그 식의 값이 필요할(반환해야 할) 때 계산한다<br />
표현식에 조건함수가 있다면, if 다음의 부울식을 계산해 가면서 표현식을 펼쳐 가면서 리덕션한다</p>

<hr />

<h2 id="higher-order-functions"><strong>Higher-order functions​</strong></h2>

<hr />

<p>FPL은 함수의 개념에 대해 일반적인 관점을 갖는다. 함수는 ‘일등 시민’으로 (객체처럼) 취급된다<br />
함수는 파라미터와 결과로서 함수를 가질(사용할) 수 있다. 고차 함수는 파라미터로 함수를 갖거나 결과로서 함수를 생산한다<br />
일차 함수는 파라미터와 결과로서 함수가 아닌 값을 갖는다</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define (atzero f) (f 0))​

(atzero inc) → (inc 0) → (+ 0 1) → 1​
(atzero square) → (square 0) → (* 0 0) → 0​
(atzero ident) → (ident 0) → 0
</code></pre></div></div>

<p>예에서 파라미터로서 함수 f를 갖는다. ​이때 f는 목적에 따라 inc, square, ident 등이 된다. ​이와 같이 파라미터로서 함수를 쓰는 것은 ​동일한 함수를 다른 경우에 적용하는데 유용하다</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define (SG n) ​
    (if (= n 0) ​
        0 ​
        (+ (G n) (SG (- n 1)))))​

(define (PG n) ​
    (if (= n 0) ​
        1 ​
        (* (G n) (PG (- n 1)))))

(define (Sgen f n) ​
    (if (= n 0) ​
        0 ​
        (+ (f n) (Sgen f (- n 1))))) ​

(define (Pgen f n) ​
    (if (= n 0) ​
        1 ​
        (* (f n) (Pgen f (- n 1)))))​

</code></pre></div></div>

<p>자연수 n을 인풋으로 받아서 ​sum, product를 구하는 프로그램을 짠다고 하면, ​위와 같다<br />
위쪽 두개는 함수 파라미터가 없이 ​미리 정의된 함수 G만을 사용하여 계산하는 경우이고, 아래쪽 두개는 함수 파라미터를 갖고 있어서, ​목적에 따라 다양한 함수를 사용하여 계산할 수 있는 경우이다</p>

<p>파라미터와 결과로서 함수를 갖는 함수의 예로 함수 합성을 들 수 있다<br />
함수의 합성은 두개의 함수를 인풋으로 받아서, 합성 함수를 반환한다<br />
​합성 함수를 정의하려면, 함수를 나타내는 표현식을 함수명 없이 쓸 수 있어야 한다. 이와 같은 함수를 익명 함수라고 부르며, 그 신택스는 다음과 같다<br />
(lambda (파라미터1, … 파라미터n)  body)​ 이것을 이용하여 합성 함수를 정의하면, ​(define (compose f g) (lambda (x) (f (g x))))가 된다​</p>

<p>파라미터로 주어진 함수와 동일한 유형의 함수와 ​n일 때 갱신된 새로운 값을 반환하는 ​고차 함수의 정의는 다음과 같다</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define (change-value-at-n  f  n  new-value)​
        (lambda (x)​
            (if (= x n)​
                new-value​
                (f x))))​
</code></pre></div></div>

<p>여기서 람다가 들어가는 이유는 이것이 새로운 함수이기 때문이다</p>

<p>표현식을 정의하는 신택스는 (define name expr)이다. 표현식의 예는 (define a (+ 3 4)) (* a 2)  결과는 14이다</p>

<hr />

<h2 id="data-structures"><strong>Data structures​</strong></h2>

<hr />

<p>FPL의 데이터 구조는 read-only이다<br />
Overwrite할 수 없고, 글로벌하게 사용하지 못하지만, ​파라미터로서 함수에 패스된다<br />
리스트는 FPL에서 미리 정의된 자료구조로, recursive하다</p>

<p>리스트를 구성하는 데 필요한 데이터 컨스트럭터는 다음과 같다</p>
<ul>
  <li>empty: 엠티 리스트를 나타낸다. ​</li>
  <li>cons: 값과 리스트를 인풋으로 받아서 v를 첫째 요소로 하는 새로운 리스트를 반환한다. ​</li>
  <li>여러 값을 리스트로 만들어야 할 때 cons 대신에 list 함수를 사용한다. ​</li>
</ul>

<p>리스트의 조작을 위해 미리 정의된 셀렉터는 다음과 같다</p>
<ul>
  <li>car: 리스트를 인풋으로 받아서 첫째 요소를 반환한다.    ​</li>
  <li>cdr: 리스트를 인풋으로 받아서 첫째 요소를 제외한 나머지를 반환한다.    ​</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define Pamuk (list #t 2 #f))에서, ​
(car Pamuk)은 #t을 반환하고,​
(cdr Pamuk)은 (2 #f)를 반환한다. ​
</code></pre></div></div>

<hr />

<h2 id="definition-of-lambda-calculus"><strong>Definition of Lambda calculus</strong></h2>

<hr />

<p>람다 계산학은 FPL의 계산 모델이다</p>

<p>람다 계산학은 하나의 변환 규칙과 하나의 함수 정의 방식(스킴)으로 구성된다<br />
변환 규칙은 변수 대체로서, 베타 변환이라고도 한다</p>

<p>표현식은 이름이거나 함수이다
이름은 값을 담고 있는 것의 식별자이고, ​함수는 파라미터의 이름을 표시하기 위해, ​그리스 문자 람다를 사용한다<br />
함수의 body는 λ<파라미터>의 뒤에 나오는 표현식으로, ​파라미터를 어떻게 재구성할 것인지 명세화한다  
표현식의 (순환적) 정의는 다음 3개의 규칙에 의한다</파라미터></p>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>&lt; expression &gt; := &lt; name &gt;</td>
          <td>&lt; function &gt;</td>
          <td>&lt; application &gt; ​</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>&lt; function &gt; := λ &lt; name &gt; . &lt; expression &gt; ​</li>
  <li>&lt; application &gt; := &lt; expression &gt;&lt; expression &gt;<br />
여기서 name은 파라미터명을, application은 함수의 적용을 나타낸다<br />
함수의 적용은 name과 function이 나열될 수 있다. 앞에서 나온 f a처럼 함수의 body는 <expression> 이다</expression></li>
</ul>

<p>합성 표현식은 지속적인 표현식을 적용하여 합성 표현식을 평가한다<br />
즉, E1E2E3 . . . En ≡  (. . . ((E1E2)E3) . . . En)이다<br />
여기서 ≡는 동동성(equivalence)를 나타낸다<br />
모호함을 줄이기 위해, λx.x ≡ (λx.x)와 같이 괄호를 사용한다</p>

<p>함수는 표현식에 적용될 수 있다</p>
<ul>
  <li>이러한 경우에 해당되는 단순한 예로, (λx.x)y을 들 수 있다
이것은 y에 identity 함수를 적용하는 것이다</li>
  <li>이때, 표현식이 모호해 질 수 있으며, 괄호를 써서 모호성을 피한다</li>
  <li>함수 적용의 평가는 파라미터를 함수 정의의 body로 대체하는 것이다. 위의 예에서, x를 y로 대체하는 것이 함수 적용의 평가이다<br />
(λx.x)y → [y/x]x → y​에서 [y/x]는 x를 y로 대체하는 것을 나타낸다</li>
</ul>

<p>대체하는 것을 베타 리덕션이라고도 한다<br />
이것을 자세히 들여다 보면, 두 단계로 이루어짐을 알 수 있다​<br />
파라미터가 표현식을 받아들인다(take in). 이후 표현식으로 body의 파라미터를 교체한다
리덕션(축소화)은 함수 적용을 통해 ​표현식에 포함된 함수 정의를 줄여 나가는(축소하는) 과정이다</p>

<p>변수는 자유 변수와 속박 변수로 구분된다</p>
<ul>
  <li>모든 name(변수)는 함수 정의 내에서 로컬이다</li>
  <li>함수 λx.x에서 body 내의 x는 그 앞에 λx가 있기 때문에 속박 변수이다​. 자유 변수는 name 앞에 λ가 없다​</li>
  <li>표현식 (λx.x)(λy.yx)에서, 첫째 표현식의 body에 있는 x는 첫째 λ에 속박되어 있다. 두번째 표현식의 body에 있는 y는 두번째 λ에 속박되어 있다.  두번째 표현식의 body에 있는 x는 자유변수이며, 첫번째 표현식의 x와 전적으로 독립적이다. ​</li>
</ul>

<p>​<img src="/assets/built/images/pl/pl51.png" width="100%" height="50%" title="제목" alt="프로그래밍언어" /></p>

<p>이 그림은 표현식 (λx.x)(λy.yx)의 베타 리덕션을 보여준다<br />
앞 표현식의 x가 두번째 표현식을 받아 들여서 ​앞 표현식의 body의 x를 두번째 표현식으로 교체한다. 이와 같이 함수 적용을 통해, 표현식의 함수 정의를 제거함으로써, ​표현식을 축소해 나간다</p>

<p>베타 리덕션의 조금 복잡한 사례를 살펴 보자<br />
표현식이 (λx.(λy.xy))y 라고 하자<br />
대체할 때, 자유 변수와 속박 변수를 혼동하지 않도록 조심해야 한다<br />
왼쪽의 함수는 속박변수 y를 포함한다. ​오른쪽 표현식의 y는 괄호 밖에 있으며, 따라서 자유 변수이다. ​변수 y는 왼쪽에서는 속박 변수, 오른쪽에서는 자유 변수이다. ​이때 이들을 혼동하면 (λy.yy) 로 잘못 리덕션된다<br />
혼동을 피하려면, 속박 변수 y를 t로 재명명(rename)하면 된다</p>

<p>교체했다고 가정하고, ​새로 교체한 변수가 이후의 표현식에서 기존의 바운드 변수로 사용되었다면, ​전혀 다른 두 변수가 동일한 이름을 쓰게 되기 때문에, ​새로 교체한 변수와 기존의 바운드 변수를 구분할 필요가 있다<br />
이를 위해 기존의 바운드 변수를 재명명(rename)한다<br />
그러나 (λx.(λt.xt))y 와 같이 끝의 y는 free이므로 rename하지 않는다</p>

<hr />

<h2 id="arithmetic-functions"><strong>Arithmetic functions​</strong></h2>

<hr />

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>S ≡ λnab.a(nab); n is the number of a​
S0 ≡ (λnab.a(nab))0​
→ λ ab.a(0ab) → λab.a(b) ≡ 1​
S1 ≡ (λnab.a(nab))1 ​
→ λab.a(1ab) → λab.a(ab) ≡ 2 ​
</code></pre></div></div>

<p>Successor 함수를 이와 같이 정의하자<br />
여기서 n은 a의 개수이다. 앞에서 정의한 0, 1, 2, 3을 참고하자</p>

<p>그렇다면 Addition과 Multiplication 함수는 ​Successor 함수를 이용하여 다음과 같이 정의할 수 있다<br />
2+3은 2S3으로, (λsz.s(sz)))S3 로 정의할 수 있고, 이것을 리덕션하면, ​→S(S3) → · · · → 5 가 된다. ​
3*3은 (λxya.x(ya))33 → (λa.3(3a)) 으로 정의되며, ​이것을 리덕션하면 9가 된다. ​</p>

<p>—​</p>

<h2 id="recursion"><strong>Recursion</strong></h2>

<hr />

<p>리커젼은 순환적으로 정의된 데이터에 대한 함수 정의에 자연스럽게 적용되는 절차이다</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Function Y: Y ≡ (λy.(λx.y(xx))(λx.y(xx))) ​
</code></pre></div></div>

<p>함수 Y를 이와 같이 정의한다<br />
Y를 함수 R에 적용하면, YR은 이와 같다</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>YR ≡ (λx.R(xx))(λx.R(xx))  ​
</code></pre></div></div>

<p>이것을 리덕션하면, YR -&gt; R(YR)가 된다. ​람다 계산학에서 리커젼은 이와 같이 표현되며, ​R의 평가(계산)은 YR의 순환 호출을 사용한다</p>

<hr />

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to LEE</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            
            -->


            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/lee989898">lee989898</a></h4>
                                
                                    <p><a href="https://github.com/lee989898">깃허브</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/lee989898">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://lee989898.github.io/pl-19';
                            var this_page_identifier = '/pl-19';
                            var this_page_title = 'Lambda Calculus​';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; LEE &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/pl/">Pl</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/pl-21">FPinPython</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/pl-20">FPLs</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/pl-18">Concurrency</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/pl/">
                                
                                    See all 20 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/algorithm-08">
                <div class="post-card-image" style="background-image: url(/assets/built/images/algorithm-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/algorithm-08">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Algorithm</span>
                            
                        
                    

                    <h2 class="post-card-title">분기 한정</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>분기 한정

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      7 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/sc-15">
                <div class="post-card-image" style="background-image: url(/assets/built/images/security-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/sc-15">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Security</span>
                            
                        
                    

                    <h2 class="post-card-title">__DRM(Digital Right Managemment__</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>DRM(Digital Right Managemment

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://lee989898.github.io/">
            
            <span>LEE</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Lambda Calculus​</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Lambda+Calculus%E2%80%8B&amp;url=https://lee989898.github.io/pl-19"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://lee989898.github.io/pl-19"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://lee989898.github.io/">LEE</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search LEE</h1>
            <p class="subscribe-overlay-description">
                lunr.js를 이용한 posts 검색 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
