<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>람다로 프로그래밍</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹 폰트 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="공부 블로그" />
    <link rel="shortcut icon" href="https://lee989898.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://lee989898.github.io/kotlin-04" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    


     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="LEE" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="람다로 프로그래밍" />
    <meta property="og:description" content="코틀린 테이블 코틀린 기초 함수 정의와 호출 클래스, 객체, 인터페이스 람다로 프로그래밍 코틀린 타입 시스템 연산자 오버로딩과 기타 관례 고차 함수: 파라미터와 반환 값으로 람다 사용 제네릭스 애노테이션과 리플렉션 DSL 만들기 람다 식과 멤버 참조 컬렉션 함수형 API 지연 계산 컬렉션 연산 자바 함수형 인터페이스 활용 수신 객체 지정 람다:" />
    <meta property="og:url" content="https://lee989898.github.io/kotlin-04" />
    <meta property="og:image" content="https://lee989898.github.io/assets/built/images/kotlin-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-08-06T01:07:00+09:00" />
    <meta property="article:modified_time" content="2021-08-06T01:07:00+09:00" />
    <meta property="article:tag" content="Kotlin" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="람다로 프로그래밍" />
    <meta name="twitter:description" content="코틀린 테이블 코틀린 기초 함수 정의와 호출 클래스, 객체, 인터페이스 람다로 프로그래밍 코틀린 타입 시스템 연산자 오버로딩과 기타 관례 고차 함수: 파라미터와 반환 값으로 람다 사용 제네릭스 애노테이션과 리플렉션 DSL 만들기 람다 식과 멤버 참조 컬렉션 함수형 API 지연 계산 컬렉션 연산 자바 함수형 인터페이스 활용 수신 객체 지정 람다:" />
    <meta name="twitter:url" content="https://lee989898.github.io/" />
    <meta name="twitter:image" content="https://lee989898.github.io/assets/built/images/kotlin-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="LEE" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Kotlin" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "LEE",
        "logo": "https://lee989898.github.io/"
    },
    "url": "https://lee989898.github.io/kotlin-04",
    "image": {
        "@type": "ImageObject",
        "url": "https://lee989898.github.io/assets/built/images/kotlin-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://lee989898.github.io/kotlin-04"
    },
    "description": "코틀린 테이블 코틀린 기초 함수 정의와 호출 클래스, 객체, 인터페이스 람다로 프로그래밍 코틀린 타입 시스템 연산자 오버로딩과 기타 관례 고차 함수: 파라미터와 반환 값으로 람다 사용 제네릭스 애노테이션과 리플렉션 DSL 만들기 람다 식과 멤버 참조 컬렉션 함수형 API 지연 계산 컬렉션 연산 자바 함수형 인터페이스 활용 수신 객체 지정 람다:"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="람다로 프로그래밍" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://lee989898.github.io/">LEE</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-kotlin" role="menuitem"><a href="/tag/kotlin/">코틀린</a></li>
    <li class="nav-algorithm" role="menuitem"><a href="/tag/algorithm/">알고리즘</a></li>
    <li class="nav-pl" role="menuitem"><a href="/tag/pl/">프로그래밍언어</a></li>
    <li class="nav-android" role="menuitem"><a href="/tag/android/">안드로이드</a></li>
    <li class="nav-security" role="menuitem"><a href="/tag/security/">컴퓨터보안</a></li>
    <li class="nav-system" role="menuitem"><a href="/tag/system/">시스템프로그래밍</a></li>
    <li class="nav-systemcloud" role="menuitem"><a href="/tag/systemcloud/">시스템클라우드보안</a></li>
    <li class="nav-blockchain" role="menuitem"><a href="/tag/blockchain/">블록체인</a></li>
    <li class="nav-archive" role="menuitem">
        
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>


</ul>



        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-kotlin post tag-kotlin ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 6 August 2021"> 6 August 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/kotlin/'>KOTLIN</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">람다로 프로그래밍</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/kotlin-logo.png)">
            </figure>
            
            -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">코틀린 테이블</span></p>
<ul class="table-of-contents-list">
    <li><a href="./kotlin-01">코틀린 기초</a></li>
    <li><a href="./kotlin-02">함수 정의와 호출</a></li>
    <li><a href="./kotlin-03">클래스, 객체, 인터페이스</a></li>
    <li><a href="./kotlin-04">람다로 프로그래밍</a></li>
    <li><a href="./kotlin-05">코틀린 타입 시스템</a></li>
    <li><a href="./kotlin-06">연산자 오버로딩과 기타 관례</a></li>
    <li><a href="./kotlin-07">고차 함수: 파라미터와 반환 값으로 람다 사용</a></li>
    <li><a href="./kotlin-08">제네릭스</a></li>
    <li><a href="./kotlin-09">애노테이션과 리플렉션</a></li>
    <li><a href="./kotlin-10">DSL 만들기</a></li>
</ul>

<hr />

<ul>
  <li><a href="#람다-식과-멤버-참조">람다 식과 멤버 참조</a></li>
  <li><a href="#컬렉션-함수형-API">컬렉션 함수형 API</a></li>
  <li><a href="#지연-계산-컬렉션-연산">지연 계산 컬렉션 연산</a></li>
  <li><a href="#자바-함수형-인터페이스-활용">자바 함수형 인터페이스 활용</a></li>
  <li><a href="#수신-객체-지정-람다-with와-apply">수신 객체 지정 람다: with와 apply</a></li>
</ul>

<hr />

<h2 id="람다-식과-멤버-참조">람다 식과 멤버 참조</h2>

<hr />

<ul>
  <li>람다 소개 : 코드 블록을 함수 인자로 넘기기</li>
</ul>

<p>함수형 언어에서는 함수를 직접 다른 함수에 전달할 수 있다</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">무명</span> <span class="n">내부</span> <span class="n">클래스로</span> <span class="n">리스너</span> <span class="n">구현하기</span>
<span class="n">button</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">OnClickListener</span><span class="o">(){</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">view</span><span class="o">){</span>
        <span class="c1">// 클릭시 수행할 동작</span>
    <span class="o">}</span>
<span class="o">})</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">람다로</span> <span class="err">리스너</span> <span class="err">구현하기</span>
<span class="n">button</span><span class="p">.</span><span class="nf">setOnclickListener</span><span class="p">{</span> <span class="c1">// 클릭시 수행할 동작</span>
<span class="p">}</span>
</code></pre></div></div>

<p>람다는 메소드가 하나뿐인 무명 객체 대신 사용할 수 있다</p>

<ul>
  <li>람다와 컬렉션</li>
</ul>

<p>컬렉션을 다룰 때 수행하는 대부분의 작업은 몇 가지 일반적인 패턴에 속한다</p>

<p>data class Person(val name: String, val age: Int)<br />
사람들로 이뤄진 리스트가 있고 그중에 가장 연장자를 찾아보자. 람다를 사용해본 경험이 없는 개발자라면 루프를 써서 직접 검색을 구현할 것이다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">findTheOldest</span><span class="p">(</span><span class="n">people</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">Person</span><span class="p">&gt;){</span>
    <span class="kd">var</span> <span class="py">maxAge</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="kd">var</span> <span class="py">theOldest</span><span class="p">:</span> <span class="nc">Person</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
    <span class="k">for</span><span class="p">(</span><span class="n">person</span> <span class="k">in</span> <span class="n">people</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">age</span> <span class="p">&gt;</span> <span class="n">maxAge</span><span class="p">){</span>
            <span class="n">maxAge</span> <span class="p">=</span> <span class="n">person</span><span class="p">.</span><span class="n">age</span>
            <span class="n">theOldest</span> <span class="p">=</span> <span class="n">person</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">theOldest</span><span class="p">)</span>
<span class="p">}</span>

<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">people</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="nc">Person</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">findTheOldest</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="nc">Person</span><span class="p">(</span><span class="n">name</span> <span class="p">=</span> <span class="nc">Bob</span><span class="p">,</span> <span class="n">age</span> <span class="p">=</span> <span class="mi">31</span><span class="p">)</span>
</code></pre></div></div>

<p>코틀린에서는 더 좋은 방법이 있다. 라이브러리 함수를 쓰면 된다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">람다를</span> <span class="err">사용해</span> <span class="err">컬렉션</span> <span class="err">검색하기</span>
<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">people</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="nc">Person</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span><span class="mi">29</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">age</span> <span class="p">})</span>
<span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">=</span><span class="nc">Bob</span><span class="p">,</span> <span class="n">age</span><span class="p">=</span><span class="mi">31</span><span class="p">)</span>
</code></pre></div></div>

<p>모든 컬렉션에 대해 maxBy함수를 호출할 수 있다. {it.age}는 바로 비교에 사용할 값을 돌려주는 함수다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">멤버</span> <span class="err">참조를</span> <span class="err">사용해</span> <span class="err">컬렉션</span> <span class="err">검사하기</span>
<span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">(</span><span class="nc">Person</span><span class="o">::</span><span class="n">age</span><span class="p">)</span>
</code></pre></div></div>

<p>위 코드는 그 위에 코드와 같은 일을 한다</p>

<ul>
  <li>람다 식의 문법</li>
</ul>

<p>람다는 값처럼 여기저기 전달할 수 있는 동작의 모음이다. 함수에 인자로 넘기면서 바로 람다를 정의하는 경우가 대부분이다<br />
코틀린 람다 식은 항상 중괄호로 둘러싸여 있다. 인자 목록 주변에 괄호가 없다<br />
화살표가 인자 목록과 람다 본문을 구분해준다. 람다 식을 변수에 저장할 수 있다. 람다가 저장된 변수를 다른 일반 함수와 마찬가지로 다룰 수 있다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">sum</span> <span class="p">=</span> <span class="p">{</span> <span class="n">x</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="p">-&gt;</span> <span class="n">x</span> <span class="p">+</span> <span class="n">y</span><span class="p">}</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="nf">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="mi">3</span>
</code></pre></div></div>

<p>코드의 일부분을 블록으로 둘러싸 실행할 필요가 있다면 run을 사용한다. run은 인자로 받은 람다를 실행해 주는 라이브러리 함수다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="nf">run</span><span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span> <span class="p">}</span>
<span class="mi">42</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">people</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="nc">Person</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span><span class="mi">29</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">age</span> <span class="p">})</span>
<span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">=</span><span class="nc">Bob</span><span class="p">,</span> <span class="n">age</span><span class="p">=</span><span class="mi">31</span><span class="p">)</span>
</code></pre></div></div>

<p>위 코드에서 정식으로 람다를 작성하면 다음과 같다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="nc">Person</span> <span class="p">-&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">})</span>
</code></pre></div></div>

<p>하지만 위 코드는 번잡하다. 구분자가 너무 많이 쓰이고 인자 타입을 굳이 적을 필요는 없다<br />
코틀린에는 함수 호출 시 맨 뒤에 있는 인자가 람다 식이라면 그 람다를 괄호 밖으로 빼낼 수 있다는 문법 관습이 있다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">()</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span> <span class="nc">Person</span> <span class="p">-&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">}</span>
</code></pre></div></div>

<p>위 코드처럼 람다가 어떤 함수의 유일한 인자이고 괄호 뒤에 람다를 썼다면 호출 시 빈괄호를 없애도 된다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span> <span class="nc">Person</span> <span class="p">-&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">}</span>
</code></pre></div></div>

<p>인자가 여럿 있는 경우에는 람다를 밖으로 빼낼 수도 있고 람다를 괄호 안에 유지해서 함수의 인자임을 분명히 할 수도 있다. 둘 이상의 람다를 인자로 받는 함수라고 해도 인자 목록의 맨 마지막 람다만 밖으로 뺄 수 있다. 따라서 그런 경우에는 괄호를 사용하는 일반적인 함수 호출 구문을 사용하는 편이 낫다<br />
이제 구문을 더 간단하게 다듬고 파라미터 타입을 없앤다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span> <span class="p">{</span> <span class="n">p</span> <span class="p">-&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span> <span class="p">}</span>
</code></pre></div></div>

<p>로컬 변수처럼 컴파일러는 람다 파라미터의 타입도 추론할 수 있다. 람다의 파라미터 이름을 디폴트 이름인 it으로 바꾸면 람다 식을 더 간단하게 만들 수 있다. 람다의 파라미터가 하나뿐이고 그 타입을 컴파일러가 추론할 수 있는 경우 it을 바로 쓸 수 있다. 람다 파라미터 이름을 따로 지정하지 않은 경우에만 it이라는 이름이 자동으로 만들어진다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">age</span><span class="p">}</span> <span class="c1">// it은 자동 생성된 파라미터 이름이다</span>
</code></pre></div></div>

<p>람다를 변수에 저장할 때는 파라미터의 타입을 추론할 문맥이 존재하지 않는다. 따라서 파라미터 타입을 명시해야 한다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">getAge</span> <span class="p">=</span> <span class="p">{</span> <span class="n">p</span><span class="p">:</span> <span class="nc">Person</span> <span class="p">-&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">}</span>
<span class="p">&gt;&gt;&gt;</span> <span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">(</span><span class="n">getAge</span><span class="p">)</span>
</code></pre></div></div>

<p>본문이 여러 줄로 이뤄진 경우 본문의 맨 마지막에 있는 식이 람다의 결과 값이 된다</p>

<ul>
  <li>현재 영역에 있는 변수에 접근</li>
</ul>

<p>람다를 함수 안에서 정의하면 함수의 파라미터뿐 아니라 람다 정의의 앞에 선언된 로컬 변수까지 람다에서 모두 사용할 수 있다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">함수</span> <span class="err">파라미터를</span> <span class="err">람다</span> <span class="err">안에서</span> <span class="err">사용하기</span>
<span class="k">fun</span> <span class="nf">printMessagesWithPrefix</span><span class="p">(</span><span class="n">messages</span><span class="p">:</span> <span class="nc">Collection</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nc">String</span><span class="p">){</span>
    <span class="n">messages</span><span class="p">.</span><span class="nf">forEach</span><span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"$prefix $it"</span><span class="p">)</span> <span class="c1">// 람다 안에서 함수의 prefix 파라미터를 사용한다</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">errors</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"403 Forbidden"</span><span class="p">,</span> <span class="s">"404 Not Found"</span><span class="p">)</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">printMessagesWithPrefix</span><span class="p">(</span><span class="n">erros</span><span class="p">,</span> <span class="s">"Error: "</span><span class="p">)</span>
<span class="nc">Error</span><span class="p">:</span> <span class="mi">403</span> <span class="nc">Forbidden</span>
<span class="nc">Error</span><span class="p">:</span> <span class="mi">404</span> <span class="nc">Not</span> <span class="nc">Foundss</span>
</code></pre></div></div>

<p>람다 안에서 바깥의 변수를 변경해도 된다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">람다</span> <span class="err">안에서</span> <span class="err">바깥</span> <span class="err">함수의</span> <span class="err">로컬</span> <span class="err">변수</span> <span class="err">변경하기</span>
<span class="k">fun</span> <span class="nf">printProblemCounts</span><span class="p">(</span><span class="n">responses</span><span class="p">:</span> <span class="nc">Collcetion</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;){</span>
    <span class="kd">var</span> <span class="py">clientErrors</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="kd">var</span> <span class="py">serverErrors</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="n">responsers</span><span class="p">.</span><span class="nf">forEach</span><span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="nf">startsWith</span><span class="p">(</span><span class="s">"4"</span><span class="p">)){</span>
            <span class="n">clientErrors</span><span class="p">++</span>
        <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="nf">startsWith</span><span class="p">(</span><span class="s">"5"</span><span class="p">)){</span>
            <span class="n">serverErrors</span><span class="p">++</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"$clientErrors client erros, $serverErrors server errors"</span><span class="p">)</span>
<span class="p">}</span>

<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">responses</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"200 OK"</span><span class="p">,</span> <span class="s">"418 I'm a teapot"</span><span class="p">,</span> <span class="s">"500 Internal Server Error"</span><span class="p">)</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">printProblemCounts</span><span class="p">(</span><span class="n">responses</span><span class="p">)</span>
<span class="mi">1</span> <span class="n">client</span> <span class="n">errors</span><span class="p">,</span> <span class="mi">1</span> <span class="n">server</span> <span class="n">errors</span>
</code></pre></div></div>

<p>위와 같이 람다 안에서 사용하는 외부 변수를 람다가 포획한 변수라고 부른다. 어떤 함수가 자신의 로컬 변수를 포획한 람다를 반환하거나 다른 변수에 저장한다면 로컬 변수의 생명주기와 함수의 생명주기가 달라질 수 있다</p>

<ul>
  <li>멤버 참조</li>
</ul>

<p>코틀린에서는 함수를 값으로 바꿀 수 있다. 이떼 이중 콜론을 사용한다<br />
val getAge = Person::age<br />
::를 사용하는 식을 멤버 참조라고 부른다. 멤버 참조는 프로퍼티나 메소드를 단 하나만 호출하는 함수 값을 만들어준다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">(</span><span class="nc">Person</span><span class="o">::</span><span class="n">age</span><span class="p">)</span>
<span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">(</span><span class="n">p</span> <span class="p">-&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>
<span class="n">people</span><span class="p">.</span><span class="nf">maxBy</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>
</code></pre></div></div>

<p>최상위에 선언된 함수나 프로퍼티를 참조할 수도 있다</p>

<hr />

<h2 id="컬렉션-함수형-api">컬렉션 함수형 API</h2>

<ul>
  <li>필수적인 함수 : filter와 map</li>
</ul>

<p>filter와 map은 컬렉션을 활용할 때 기반이 되는 함수다<br />
filter 함수는 컬렉션을 이터레이션하면서 주어진 람다에 각 원소를 넘겨서 람다가 true를 반환하는 원소만 모은다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">list</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="nf">filter</span> <span class="p">{</span> <span class="n">it</span> <span class="p">%</span> <span class="mi">2</span> <span class="p">==</span> <span class="mi">0</span><span class="p">})</span>
<span class="na">[2, 4]</span>

<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">people</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="nc">Person</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">filter</span> <span class="p">{</span><span class="n">it</span><span class="p">.</span><span class="n">age</span> <span class="p">&gt;</span> <span class="mi">30</span><span class="p">})</span>
<span class="na">[Person(name=Bob, age=31)]</span>
</code></pre></div></div>

<p>filter 함수는 컬렉션에서 원치 않는 원소를 제거한다. 하지만 원소를 변환할 수는 없다<br />
map 함수는 주어진 람다를 컬렉션의 각 원소에 적용한 결과를 모아서 새 컬렉션을 만든다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">list</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span> <span class="n">it</span> <span class="p">*</span> <span class="n">it</span><span class="p">})</span>
<span class="na">[1,4,9,16]</span>

<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">people</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="nc">Person</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span><span class="mi">29</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span><span class="n">it</span><span class="p">.</span><span class="n">name</span><span class="p">})</span>
<span class="na">[Alice, Bob]</span>
</code></pre></div></div>

<p>위 코드를 멤버 참조를 사용해 작성할 수도 있다<br />
people.map(Person::name)</p>

<ul>
  <li>all,any,count,find : 컬렉션에 술어 적용</li>
</ul>

<p>all과 any는 컬렉션에 대해 자주 수행하는 연산으로 컬렉션의 모든 원소가 어떤 조건을 만족하는지 판단한다<br />
count는 조건을 만족하는 함수의 개수를 반환하며, find 함수는 조건을 만족하는 첫 번째 원소를 반환한다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">canBeInClub27</span> <span class="p">=</span> <span class="p">{</span> <span class="n">p</span><span class="p">:</span> <span class="nc">Person</span> <span class="p">-&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span> <span class="p">&lt;=</span> <span class="mi">27</span><span class="p">}</span>

<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">people</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="nc">Person</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span> <span class="c1">// 모든 원소가 이 술어를 만족하는지</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="n">canBeInClub27</span><span class="p">))</span>
<span class="k">false</span>

<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">any</span><span class="p">(</span><span class="n">canBeInClub27</span><span class="p">))</span> <span class="c1">// 술어를 만족하는 원소가 하나라도 있는지</span>
<span class="k">true</span>

<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="n">canBeInClub27</span><span class="p">))</span> <span class="c1">// 술어를 만족하는 원소의 개수</span>
<span class="mi">1</span>

<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">canBeInClub27</span><span class="p">))</span> <span class="c1">// 술어를 만족하는 원소를 하나 찾기 가장 먼저 조건을 만족하는 원소 반환</span>
<span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">=</span><span class="nc">Alice</span><span class="p">,</span> <span class="n">age</span><span class="p">=</span><span class="mi">27</span><span class="p">)</span>
</code></pre></div></div>

<p>어떤 조건에 대해 !all을 수행한 결과와 그 조건의 부정에 대해 any를 수행한 결과는 같다. 또 어떤 조건에 !any를 수행한 결과와 그 조건이 부정에 대해 all을 수행한 결과도 같다</p>

<ul>
  <li>groupBy : 리스트를 여러 그룹으로 이뤄진 맵으로 변경</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">people</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="nc">Person</span><span class="p">(</span><span class="s">"Alice"</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span> <span class="nc">Person</span><span class="p">(</span><span class="s">"Carol"</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">people</span><span class="p">.</span><span class="nf">groupBy</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">age</span> <span class="p">})</span>
</code></pre></div></div>

<p>위 연산의 결과는 컬렉션의 원소를 구분하는 특성이 키이고 ,키 값에 따른 각 그룹이 값인 맵이다<br />
각 그룹은 리스트다. 따라서 groupBy의 결과 타입은 Map&lt;Int, List&lt; Person »이다</p>

<ul>
  <li>flatMap과 flatten : 중첩된 컬렉션 안의 원소 처리</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Book</span><span class="p">(</span><span class="kd">val</span> <span class="py">title</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">authors</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span>
<span class="n">books</span><span class="p">.</span><span class="nf">flatMap</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">authors</span><span class="p">}.</span><span class="nf">toSet</span><span class="p">()</span> <span class="c1">// books 컬렉션에 있는 책을 쓴 모든 저자의 집합</span>
</code></pre></div></div>

<p>flatMap 함수는 먼저 인자로 주어진 람다를 컬렉션의 모든 객체에 적용하고 람다를 적용한 결과 얻어지는 여러 리스트를 한 리스트로 한데 모은다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">strings</span> <span class="p">=</span> <span class="nf">listOF</span><span class="p">(</span><span class="s">"abc"</span><span class="p">,</span> <span class="s">"def"</span><span class="p">)</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">strings</span><span class="p">.</span><span class="nf">flatMap</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="nf">toList</span><span class="p">()})</span>
<span class="na">[a,b,c,d,e,f]</span>
</code></pre></div></div>

<p>toList 함수를 문자열에 적용하면 그 문자열에 속한 모든 문자로 이뤄진 리스트가 만들어진다</p>

<hr />

<h2 id="지연-계산-컬렉션-연산">지연 계산 컬렉션 연산</h2>

<hr />

<p>map이나 filter 같은 함수는 결과 컬렉션을 즉시 생성한다. 이는 컬렉션 함수를 연쇄하면 매 단계마다 계산 중간 결과를 새로운 컬렉션에 임시로 담는다는 말이다. 시퀀스를 사용하면 중간 임시 컬렉션을 사용하지 않고도 컬렉션 연산을 연쇄할 수 있다</p>

<pre><code class="language-koltin">people.asSequence() // 원본 컬렉션을 시퀀스로 변환한다
    .map(Person::name)
    .filter { it.startWith("A")} 
    .toList() // 결과 시퀀스를 다시 리스트로 변환한다
</code></pre>

<p>Sequence 인터페이스의 장점은 그 인터페이스 위에 구현된 연산이 계산을 수행하는 방법 때문에 생긴다. 시퀀스의 원소는 필요할 때 비로소 계산된다. 따라서 중간 처리 결과를 저장하지 않고도 연산을 연쇄적으로 적용해서 효율적으로 계산을 수행할 수 있다<br />
큰 컬렉션에 대해서 연산을 연쇄시킬 때는 시퀀스를 사용하는 것을 규칙으로 삼는 것이 좋다</p>

<p>asSequnence 확장 함수를 호출하면 어떤 컬렉션이든 시퀀스로 바꿀 수 있다. 시퀀스를 리스트로 만들 때는 toList를 사용한다</p>

<ul>
  <li>시퀀스 연산 실행 : 중간 연산과 최종 연산</li>
</ul>

<p>시퀀스에 대한 연산은 중간연산과 최종연산으로 나뉜다<br />
중간 연산은 다른 시퀀스를 반환한다. 그 시퀀스는 최초 시퀀스의 원소를 변환하는 방법을 안다<br />
최종 연산은 결과를 반환한다. 결과는 최초 컬렉션에 대해 변환을 적용한 시퀀스로부터 일련의 계산을 수행해 얻을 수 있는 컬렉션이나 원소, 숫자 또는 객체다<br />
중간 연산은 항상 지연 계산된다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">최종</span> <span class="err">연산이</span> <span class="err">없음</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">listOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">).</span><span class="nf">asSequence</span><span class="p">()</span>
                <span class="p">.</span><span class="nf">map</span><span class="p">{</span><span class="nf">print</span><span class="p">(</span><span class="s">"map($it) "</span><span class="p">);</span> <span class="n">it</span> <span class="p">*</span> <span class="n">it</span><span class="p">}</span>
                <span class="p">.</span><span class="nf">filter</span><span class="p">{</span><span class="nf">print</span><span class="p">(</span><span class="s">"filter($it)"</span><span class="p">);</span> <span class="n">it</span> <span class="p">%</span> <span class="mi">2</span> <span class="p">==</span> <span class="mi">0</span><span class="p">}</span>
</code></pre></div></div>

<p>위 코드를 실행하면 아무 내용도 출력되지 않는다. 이는 map과 filter 변환이 늦춰져서 결과를 얻을 필요가 있을 때 적용된다는 뜻이다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&gt;&gt;&gt;</span> <span class="nf">listOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">).</span><span class="nf">asSequence</span><span class="p">()</span>
                <span class="p">.</span><span class="nf">map</span><span class="p">{</span><span class="nf">print</span><span class="p">(</span><span class="s">"map($it) "</span><span class="p">);</span> <span class="n">it</span> <span class="p">*</span> <span class="n">it</span><span class="p">}</span>
                <span class="p">.</span><span class="nf">filter</span><span class="p">{</span><span class="nf">print</span><span class="p">(</span><span class="s">"filter($it)"</span><span class="p">);</span> <span class="n">it</span> <span class="p">%</span> <span class="mi">2</span> <span class="p">==</span> <span class="mi">0</span><span class="p">}</span>
                <span class="p">.</span><span class="nf">toList</span><span class="p">()</span>
<span class="nf">map</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="nf">filter</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="nf">map</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="nf">filter</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="nf">map</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="nf">filter</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="nf">map</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="nf">filter</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
</code></pre></div></div>

<p>최종 연산을 호출하면 연기됐던 모든 계산이 수행된다. 시퀀스에 대한 map과 filter의 모든 연산은 각 원소에 대해 순차적으로 젹용된다<br />
첫 번째 원소가 처리되고, 다시 두 번째 원소가 처리되며, 이런 처리가 모든 원소에 대해 적용된다<br />
따라서 원소에 연산을 차례대로 적용하다가 결과과 얻어지면 그 이후의 원소에 대해서는 변환이 이뤄지지 않을 수도 있다</p>

<p>컬렉션을 사용하면 리스트가 다른 리스트로 변환된다<br />
시퀀스를 사용하면 find 호출이 원소를 하나씩 처리하기 시작한다</p>

<ul>
  <li>시퀀스 만들기</li>
</ul>

<p>시퀀스를 만드는 다른 방법으로 generateSequence 함수를 사용할 수 있다. 이 함수는 이전의 원소를 인자로 받아 다음 원소를 계산한다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">자연수의</span> <span class="err">시퀀스를</span> <span class="err">생성하고</span> <span class="err">사용하기</span>
<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">naturalNumbers</span> <span class="p">=</span> <span class="nf">generateSequence</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">it</span> <span class="p">+</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">numbersTo100</span> <span class="p">=</span> <span class="n">naturalNumbers</span><span class="p">.</span><span class="nf">takeWhile</span> <span class="p">{</span> <span class="n">it</span> <span class="p">&lt;=</span> <span class="mi">100</span><span class="p">}</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">numbetsTo100</span><span class="p">.</span><span class="nf">sum</span><span class="p">())</span> <span class="c1">// 모든 지연 연산은 sum의 결과를 계산할 떄 수행된다</span>
<span class="mi">5050</span>
</code></pre></div></div>

<p>위 코드에서 naturalNumbers와 numbersTo100은 모두 시퀀스며, 연산을 지연 계산한다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">상위</span> <span class="err">디렉토리의</span> <span class="err">시퀀스를</span> <span class="err">생성하고</span> <span class="err">사용하기</span>
<span class="k">fun</span> <span class="nc">File</span><span class="p">.</span><span class="nf">isInsideHiddenDirectory</span><span class="p">()</span> <span class="p">=</span>
    <span class="nf">generateSequence</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">{</span><span class="n">it</span><span class="p">.</span><span class="n">parentFile</span><span class="p">}.</span><span class="nf">any</span><span class="p">{</span><span class="n">it</span><span class="p">.</span><span class="n">isHidden</span><span class="p">}</span>
<span class="p">&gt;&gt;&gt;</span> <span class="kd">val</span> <span class="py">file</span> <span class="p">=</span> <span class="nc">File</span><span class="p">(</span><span class="s">"/Users/svtk/.HiddenDir/a.txt"</span><span class="p">)</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="nf">isInsideHiddenDirectory</span><span class="p">())</span>
<span class="k">true</span>
</code></pre></div></div>

<hr />

<h2 id="자바-함수형-인터페이스-활용">자바 함수형 인터페이스 활용</h2>

<hr />

<p>코틀린 람다를 자바 API에 사용해도 문제가 없다<br />
추상 메소드가 하나만 있는 인터페이스를 SAM인터페이스 또는 함수형 인터페이스라고 부른다</p>

<ul>
  <li>자바 메소드에 람다를 인자로 전달</li>
</ul>

<p>함수형 인터페이스를 인자로 원하는 자바 메소드에 코틀린 람다를 전달할 수 있다</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">postponeComputation</span><span class="o">(</span><span class="kt">int</span> <span class="n">delay</span><span class="o">,</span> <span class="nc">Runnable</span> <span class="n">computation</span><span class="o">);</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">postponeComputation</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="mi">42</span><span class="p">)}</span>  <span class="c1">// 컴파일러는 자동으로 람다를 Runnable 인스턴스로 변환해준다</span>
</code></pre></div></div>

<ul>
  <li>SAM 생성자 : 람다를 함수형 인터페이스로 명지적으로 변경</li>
</ul>

<p>SAM 생성자는 람다를 함수형 인터페이스의 인스턴스로 변환할 수 있게 컴파일러가 자동으로 생성한 함수다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SAM</span> <span class="err">생성자를</span> <span class="err">사용해</span> <span class="err">값</span> <span class="err">반환하기</span>
<span class="k">fun</span> <span class="nf">createAllDoneRunnable</span><span class="p">()</span> <span class="p">:</span> <span class="nc">Runnable</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nc">Runnable</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="s">"All done!"</span><span class="p">)}</span>
<span class="p">}</span>

<span class="p">&gt;&gt;&gt;</span> <span class="nf">createAllDoneRunnable</span><span class="p">().</span><span class="nf">run</span><span class="p">()</span>
<span class="nc">All</span> <span class="n">done</span><span class="p">!</span>
</code></pre></div></div>

<hr />

<h2 id="수신-객체-지정-람다-with와-apply">수신 객체 지정 람다: with와 apply</h2>

<ul>
  <li>with 함수</li>
</ul>

<p>with는 수신 객체 지정 람다를 활용한다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">알파벳</span> <span class="err">만들기</span>
<span class="k">fun</span> <span class="nf">alphabet</span><span class="p">():</span> <span class="nc">String</span><span class="p">{</span>
    <span class="kd">val</span> <span class="py">result</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">){</span>
        <span class="n">result</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">result</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"\nNow I know the alphabet!"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span>
<span class="p">}</span>
<span class="p">&gt;&gt;&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="nf">alphabet</span><span class="p">())</span>
<span class="nc">ABCDEFGHIJKLMNOPQRSTUVWXYZ</span>
<span class="nc">Now</span> <span class="nc">I</span> <span class="n">know</span> <span class="n">the</span> <span class="n">alphabet</span><span class="p">!</span>
</code></pre></div></div>

<p>아래 코드는 위 코드를 with를 활용해 작성한 코드이다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">alphabet</span><span class="p">():</span> <span class="nc">String</span><span class="p">{</span>
    <span class="kd">val</span> <span class="py">stringBuilder</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">()</span>
    <span class="k">return</span> <span class="nf">with</span><span class="p">(</span><span class="n">stringBuilder</span><span class="p">){</span>  <span class="c1">// 메소드를 호출하려는 수신 객체를 지정한다</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">){</span>
            <span class="k">this</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="c1">// this를 명시해서 앞에서 지정한 수신 객체의 메소드를 호출한다</span>
        <span class="p">}</span>
        <span class="nf">append</span><span class="p">(</span><span class="s">"\nNow I know the alphabet!"</span><span class="p">)</span> <span class="c1">// this를 생략하고 메소드를 호출한다</span>
        <span class="k">this</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// 람다에서 값을 반환한다</span>
    <span class="p">}</span> 
<span class="p">}</span>
</code></pre></div></div>

<p>with 함수는 첫 번째 인자로 받은 객체를 두 번째 인자로 받은 람다의 수신 객체로 만든다. 위 코드에서 this는 with의 첫 번째 인자로 전달된 stringBuilder이다. stringBulder의 메소드를 this.append(letter)처럼 this 참조를 통해 접근하거나 append(“\nNow…”) 처럼 바로 호출할 수 있다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">with</span><span class="err">와</span> <span class="err">식을</span> <span class="err">본문으로</span> <span class="err">하는</span> <span class="err">함수를</span> <span class="err">활용해</span> <span class="err">알파벳</span> <span class="err">만들기</span>
<span class="k">fun</span> <span class="nf">alphabet</span><span class="p">()</span> <span class="p">=</span> <span class="nf">with</span><span class="p">(</span><span class="nc">StringBuilder</span><span class="p">()){</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">){</span>
        <span class="nf">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">append</span><span class="p">(</span><span class="s">"\nNow I know the alphabet!"</span><span class="p">)</span>
    <span class="nf">toString</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<p>with가 반환하는 값은 람다 코드를 실행한 결과며, 그 결과는 람다 식의 본문에 있는 마지막 식의 값이다<br />
람다의 결과 대신 수신 객체가 필요할 때는 apply 함수를 사용할 수 있다</p>

<ul>
  <li>apply 함수</li>
</ul>

<p>apply함수는 거의 with와 같다. 유일한 차이는 항상 자신에게 전달된 객체를 반환한다는 점뿐이다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">apply</span><span class="err">를</span> <span class="err">사용해</span> <span class="err">알파벳</span> <span class="err">만들기</span>
<span class="k">fun</span> <span class="nf">alphabet</span><span class="p">()</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">().</span><span class="nf">apply</span><span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">){</span>
        <span class="nf">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">append</span><span class="p">(</span><span class="s">"\nNow I know the alphabet!"</span><span class="p">)</span>
<span class="p">}.</span><span class="nf">toString</span><span class="p">()</span>
</code></pre></div></div>

<p>apply는 확장 함수로 정의돼 있다. 위 함수에서 apply를 실행한 결과는 StringBuilder 객체다. 따라서 그 객체의 toString을 호출해서 String 객체를 얻을 수 있다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">apply</span><span class="err">를</span> <span class="nc">TextView</span> <span class="err">초기화에</span> <span class="err">사용하기</span>
<span class="k">fun</span> <span class="nf">createViewWithCustomAttributes</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nc">Context</span><span class="p">)</span> <span class="p">=</span>
    <span class="nc">TextView</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="nf">apply</span><span class="p">{</span>
        <span class="n">text</span> <span class="p">=</span> <span class="s">"Sample Text"</span>
        <span class="n">textSize</span> <span class="p">=</span> <span class="mf">20.0</span>
        <span class="nf">setPadding</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>apply 함수를 사용하면 함수의 본문에 간결한 식을 사용할 수 있다. 새로운 TextView 인스턴스를 만들고 즉시 그 인스턴스를 apply에 넘긴다<br />
apply에 전달된 람다 안에서는 TextView가 수신 객체가 된다. 따라서 원하는 대로 TextView의 메소드를 호출하거나 프로퍼티를 설정할 수 있다. 람다를 실행하고 나면 apply는 람다에 의해 초기화된 TextView 인스턴스를 반환한다</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">buildString</span><span class="err">으로</span> <span class="err">알파벳</span> <span class="err">만들기</span>
<span class="k">fun</span> <span class="nf">alphabet</span><span class="p">()</span> <span class="p">=</span> <span class="nf">buildString</span><span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">){</span>
        <span class="nf">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">append</span><span class="p">(</span><span class="s">"\nNow I know the alphabet!"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>buildString은 StringBuilder 객체를 만드는 일과 toString을 호출해주는 일을 알아서 해준다</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to LEE</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            
            -->


            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/lee989898">lee989898</a></h4>
                                
                                    <p><a href="https://github.com/lee989898">깃허브</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/lee989898">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://lee989898.github.io/kotlin-04';
                            var this_page_identifier = '/kotlin-04';
                            var this_page_title = '람다로 프로그래밍';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; LEE &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/kotlin/">Kotlin</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/kotlin-10">DSL 만들기</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/kotlin-09">애노테이션과 리플렉션</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/kotlin-08">제네릭스</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/kotlin/">
                                
                                    See all 9 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/kotlin-05">
                <div class="post-card-image" style="background-image: url(/assets/built/images/kotlin-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/kotlin-05">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Kotlin</span>
                            
                        
                    

                    <h2 class="post-card-title">코틀린 타입 시스템</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>코틀린 테이블

    코틀린 기초
    함수 정의와 호출
    클래스, 객체, 인터페이스
    람다로 프로그래밍
    코틀린 타입 시스템
    연산자 오버로딩과 기타 관례
    고차 함수: 파라미터와 반환 값으로 람다 사용
    제네릭스
    애노테이션과 리플렉션
    DSL 만들기


</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      13 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/kotlin-03">
                <div class="post-card-image" style="background-image: url(/assets/built/images/kotlin-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/kotlin-03">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Kotlin</span>
                            
                        
                    

                    <h2 class="post-card-title">클래스, 객체, 인터페이스</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>코틀린 테이블

    코틀린 기초
    함수 정의와 호출
    클래스, 객체, 인터페이스
    람다로 프로그래밍
    코틀린 타입 시스템
    연산자 오버로딩과 기타 관례
    고차 함수: 파라미터와 반환 값으로 람다 사용
    제네릭스
    애노테이션과 리플렉션
    DSL 만들기


</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      17 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://lee989898.github.io/">
            
            <span>LEE</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">람다로 프로그래밍</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%EB%9E%8C%EB%8B%A4%EB%A1%9C+%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D&amp;url=https://lee989898.github.io/kotlin-04"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://lee989898.github.io/kotlin-04"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://lee989898.github.io/">LEE</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search LEE</h1>
            <p class="subscribe-overlay-description">
                lunr.js를 이용한 posts 검색 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
