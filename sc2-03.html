<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>리눅스 사용자 계정과 권한 체계, 쉘 기본</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹 폰트 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="공부 블로그" />
    <link rel="shortcut icon" href="https://lee989898.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://lee989898.github.io/sc2-03" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$'] ],
    processEscapes: true,
  }
});
MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

    


     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="LEE" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="리눅스 사용자 계정과 권한 체계, 쉘 기본" />
    <meta property="og:description" content="리눅스: 사용자 계정과 권한 체계, 쉘 기본 리눅스/유닉스 파일 시스템 리눅스/유닉스 파일 시스템은 디렉토리와 파일로 구성 디렉토리 내용 / 파일 시스템 트리 구조의 최상위 디렉토리이다 /etc 시스템의 환경 설정 및 주요 설정 파일을 담고있다 (passwd, shadow 등) dev 프린터 같은 물리적인 장치를 다루기 위한 특수 파일을 담고있다 /usr/bin 쉘 명령어" />
    <meta property="og:url" content="https://lee989898.github.io/sc2-03" />
    <meta property="og:image" content="https://lee989898.github.io/assets/built/images/systemcloud-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2022-03-21T01:06:00+09:00" />
    <meta property="article:modified_time" content="2022-03-21T01:06:00+09:00" />
    <meta property="article:tag" content="Systemcloud" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="리눅스 사용자 계정과 권한 체계, 쉘 기본" />
    <meta name="twitter:description" content="리눅스: 사용자 계정과 권한 체계, 쉘 기본 리눅스/유닉스 파일 시스템 리눅스/유닉스 파일 시스템은 디렉토리와 파일로 구성 디렉토리 내용 / 파일 시스템 트리 구조의 최상위 디렉토리이다 /etc 시스템의 환경 설정 및 주요 설정 파일을 담고있다 (passwd, shadow 등) dev 프린터 같은 물리적인 장치를 다루기 위한 특수 파일을 담고있다 /usr/bin 쉘 명령어" />
    <meta name="twitter:url" content="https://lee989898.github.io/" />
    <meta name="twitter:image" content="https://lee989898.github.io/assets/built/images/systemcloud-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="LEE" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Systemcloud" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "LEE",
        "logo": "https://lee989898.github.io/"
    },
    "url": "https://lee989898.github.io/sc2-03",
    "image": {
        "@type": "ImageObject",
        "url": "https://lee989898.github.io/assets/built/images/systemcloud-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://lee989898.github.io/sc2-03"
    },
    "description": "리눅스: 사용자 계정과 권한 체계, 쉘 기본 리눅스/유닉스 파일 시스템 리눅스/유닉스 파일 시스템은 디렉토리와 파일로 구성 디렉토리 내용 / 파일 시스템 트리 구조의 최상위 디렉토리이다 /etc 시스템의 환경 설정 및 주요 설정 파일을 담고있다 (passwd, shadow 등) dev 프린터 같은 물리적인 장치를 다루기 위한 특수 파일을 담고있다 /usr/bin 쉘 명령어"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="리눅스 사용자 계정과 권한 체계, 쉘 기본" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://lee989898.github.io/">LEE</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-kotlin" role="menuitem"><a href="/tag/kotlin/">코틀린</a></li>
    <li class="nav-algorithm" role="menuitem"><a href="/tag/algorithm/">알고리즘</a></li>
    <li class="nav-pl" role="menuitem"><a href="/tag/pl/">프로그래밍언어</a></li>
    <li class="nav-android" role="menuitem"><a href="/tag/android/">안드로이드</a></li>
    <li class="nav-security" role="menuitem"><a href="/tag/security/">컴퓨터보안</a></li>
    <li class="nav-system" role="menuitem"><a href="/tag/system/">시스템프로그래밍</a></li>
    <li class="nav-systemcloud" role="menuitem"><a href="/tag/systemcloud/">시스템클라우드보안</a></li>
    <li class="nav-blockchain" role="menuitem"><a href="/tag/blockchain/">블록체인</a></li>
    <li class="nav-archive" role="menuitem">
        
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>


</ul>



        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-systemcloud post tag-systemcloud ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="21 March 2022">21 March 2022</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/systemcloud/'>SYSTEMCLOUD</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">리눅스 사용자 계정과 권한 체계, 쉘 기본</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/systemcloud-logo.png)">
            </figure>
            
            -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h2 id="리눅스-사용자-계정과-권한-체계-쉘-기본"><strong>리눅스: 사용자 계정과 권한 체계, 쉘 기본</strong></h2>

<hr />

<h2 id="리눅스유닉스-파일-시스템"><strong>리눅스/유닉스 파일 시스템</strong></h2>

<ul>
  <li>리눅스/유닉스 파일 시스템은 디렉토리와 파일로 구성</li>
</ul>

<table>
  <thead>
    <tr>
      <th>디렉토리</th>
      <th>내용</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/</td>
      <td>파일 시스템 트리 구조의 최상위 디렉토리이다</td>
    </tr>
    <tr>
      <td>/etc</td>
      <td>시스템의 환경 설정 및 주요 설정 파일을 담고있다 (passwd, shadow 등)</td>
    </tr>
    <tr>
      <td>dev</td>
      <td>프린터 같은 물리적인 장치를 다루기 위한 특수 파일을 담고있다</td>
    </tr>
    <tr>
      <td>/usr/bin</td>
      <td>쉘 명령어 실행 파일 등 기본적으로 실행 가능한 파일을 담고 있다 (ls, mv, cp, pwd 등)</td>
    </tr>
    <tr>
      <td>/usr/include</td>
      <td>주요 라이브러리 헤더파일이 저장되는 디렉토리이다</td>
    </tr>
    <tr>
      <td>/usr/lib</td>
      <td>라이브러리에 대한 shared object 파일(.so)이 저장되는 디렉토리</td>
    </tr>
    <tr>
      <td>/usr/sbin</td>
      <td>시스템 관리 명령어가 저장되는 디렉터리</td>
    </tr>
    <tr>
      <td>/home</td>
      <td>사용자 홈 디렉터리가 저장되는 디렉터리</td>
    </tr>
    <tr>
      <td>tmp</td>
      <td>프로그램 실행 및 설치 시 생성되는 임시 파일을 담고있다. 이 디렉터리에 파일을 저장하면 재부팅 시 임의로 삭제될 수 있다</td>
    </tr>
    <tr>
      <td>/var</td>
      <td>시스템 로그가 저장되는 디렉터리이다</td>
    </tr>
    <tr>
      <td>/proc</td>
      <td>실행중인 프로세스 정보를 담고 있는 파일들이 저장됨. 실행 중인 각 프로세스 id마다 파일이 존재</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="리눅스유닉스의-계정과-권한-체계"><strong>리눅스/유닉스의 계정과 권한 체계</strong></h2>

<ul>
  <li>로그인: 아이디와 패스워드 입력을 통해 자신이 누군지 밝히고, 그에 따른 권한을 부여 받아 시스템 사용을 허가 받는 과정</li>
  <li>리눅스 시스템의 계정과 권한 체계: root라고 불리는 관리자와 일반 사용자 계정으로 구분. 모든 계정 정보가 /etc/passwd 파일에 저장됨</li>
</ul>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>
</code></pre></div></div>

<p><img src="\assets\built\images\sc2\sc3.png" alt="시스템클라우드보안" /></p>

<blockquote>
  <p>/etc/passwd 파일</p>
</blockquote>

<p><img src="\assets\built\images\sc2\sc4.png" alt="시스템클라우드보안" /></p>

<ol>
  <li>사용자 계정명</li>
  <li>패스워드가 암호화되어 /etc/shadow 파일에 저장되어 있음을 나타냄</li>
  <li>사용자 번호(UID, User ID)</li>
  <li>그룹 번호(GID, Group ID)</li>
  <li>사용자의 이름이다</li>
  <li>사용자의 홈 디렉터리 나타냄
    <ul>
      <li>관리자의 홈 디렉터리는 /root이다</li>
      <li>일반 사용자의 홈 디렉터리는 /hoom/seed 같이 /home 디렉터리 하위에 위치한다</li>
    </ul>
  </li>
  <li>사용자 계정 로그인 쉘을 지정. 기본 설정은 /bin/bash 쉘</li>
</ol>

<ul>
  <li>리눅스에서 관리자는 UID를 0번으로 부여받고 일반 사용자는 그 외의 번호를 부여 받는데 보통 500번 또는 1000번 이상을 부여 받는다</li>
</ul>

<blockquote>
  <p>/etc/shadow 파일</p>
</blockquote>

<ul>
  <li>각 사용자 계정의 패스워드가 암호화 된 상태로 저장되어 있음</li>
  <li>사용자 계정 seed에 대한 정보 예</li>
</ul>

<p><img src="\assets\built\images\sc2\sc5.png" alt="시스템클라우드보안" /></p>

<table>
  <thead>
    <tr>
      <th>주요 필드</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>사용자 계정명</td>
      <td>첫번째 필드는 사용자 계정명을 나타냄</td>
    </tr>
    <tr>
      <td>암호화된 패스워드</td>
      <td>두번째 필드는 암호화된 패스워드를 나타냄. $로 아래와 같이 추가 구분 &lt;/br&gt; $algoritihm_id$salt$hash_value_of_password &lt;/br&gt; &gt; algorithm_id: 패스워드 해쉬값 계산에 사용된 암호학적 해쉬 함수 종류를 나타냄(MD5, BlowFish, SHA-256, SHA-512 등) &lt;/br&gt; &gt; salt 패스워드 해쉬값 계산에 사용된 랜덤값 &lt;/br&gt; hash_value_of_password: 사용자 패스워드 및 salt를 입력으로 해쉬 함수를 통해 계산된 값 &lt;/br&gt; 패스워드 필드에 *, ! 등이 설정될 수도 있음 &lt;/br&gt; *: 패스워드가 잠긴 상태로 일반적인 방식의 로그인은 불가하지만 별도의 인증 방식을 사용하여 로그인을 하루 수는 있음 &lt;/br&gt; !: 패스워드가 잠긴 상태로 일반적인 방식의 로그인은 불가함. 또는 사용자 계정을 생성하고 패스워드를 설정하지 않은 상태이기도 함</td>
    </tr>
    <tr>
      <td>마지막 변경</td>
      <td>마지막으로 패스워드를 변경한 날을 1970년 1월1일 기준으로 일수로 표시함. 위 예에서는 마지막으로 패스워드를 변경한 날은 1970년 1월1일 이후 18950일이 지났음을 의미</td>
    </tr>
    <tr>
      <td>패스워드 최소 사용기간</td>
      <td>패스워드를 변경한 이후 최소 이 정도의 기간은 사용해야함을 의미</td>
    </tr>
    <tr>
      <td>패스워드 최대 사용기간</td>
      <td>패스워드를 변경한 이후 만료되는 일수를 나타냄. 보안을 위해 주기적으로 패스워드 변경이 필요한 경우 활용</td>
    </tr>
    <tr>
      <td>경고</td>
      <td>패스워드 만료일 몇일 전에 경고 알림할건지를 설정</td>
    </tr>
    <tr>
      <td>비활성화</td>
      <td>패스워드가 만료된 이후에 계정이 잠기기 전까지 비활성 일수를 나타냄. 해당 비활성 기간 동안 패스워드를 변경해야 계정이 잠기지 않음</td>
    </tr>
    <tr>
      <td>만료일</td>
      <td>계정이 만료되는 날짜를 1970년 1월1일 기준으로 일수로 표시</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>패스워드 해쉬값 계산 과정</p>
</blockquote>

<p><img src="\assets\built\images\sc2\sc36.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>사용자 로그인 시 패스워드 검증 과정(/etc/shadow 파일에서 사용자 패스워드 해쉬값, 해쉬 함수 ID, salt 값을 읽어 온다)</li>
</ul>

<p><img src="\assets\built\images\sc2\sc37.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>만약 salt 없이 패스워드만을 입력으로 해쉬값을 계산한다면?
    <ul>
      <li>패스워드가 동일하면 그 해쉬값도 동일하다</li>
      <li>공격자는 shadow 파일에 해쉬값들을 비교하는 것만으로 동일한 패스워드가 사용된 사용자 계정을 알아낼 수 있다</li>
    </ul>
  </li>
  <li>패스워드 크래킹 공격 비용을 높이는 효과
    <ul>
      <li>레인보우 테이블을 이용한 패스워드 크래킹 공격: 일반적으로 많이 사용되는 패턴의 패스워드에 대한 해쉬값을 미리 계산해두는 방식</li>
      <li>만약 salt가 사용되지 않는다면 공격자는 모든 고려 대상 패스워드 각각에 대한 해쉬값을 게산하면 됨</li>
      <li>salt가 사용되면 모든 고려 대상 패스워드 및 모든 가능한 salt 값에 대해 미리 해쉬값을 계산해두어야 함 -&gt; 공격 비용이 훨씬 높아짐</li>
    </ul>
  </li>
</ul>

<hr />

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ls</span> <span class="o">-</span><span class="n">al</span> <span class="o">/</span><span class="n">etc</span>
</code></pre></div></div>

<p><img src="\assets\built\images\sc2\sc38.png" alt="시스템클라우드보안" /></p>

<p><img src="\assets\built\images\sc2\sc39.png" alt="시스템클라우드보안" /></p>

<table>
  <thead>
    <tr>
      <th>파일 속성</th>
      <th>파일 소유자</th>
      <th>권한 그룹 권한</th>
      <th>일반(Others)권한</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>d</td>
      <td>rwx</td>
      <td>r-x</td>
      <td>r-x</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>문자</th>
      <th>파일 속성</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>d</td>
      <td>디렉터리 파일(Dirctory File)</td>
    </tr>
    <tr>
      <td>-</td>
      <td>일반 정규 파일(Regular File)</td>
    </tr>
    <tr>
      <td>l</td>
      <td>링크되어 있는 파일(Symbolic Link File)</td>
    </tr>
    <tr>
      <td>c</td>
      <td>버퍼에 저장되지 않은 특수 파일(Character File)</td>
    </tr>
    <tr>
      <td>b</td>
      <td>버퍼링된 특수 파일(Block File)</td>
    </tr>
    <tr>
      <td>s</td>
      <td>소켓 기능을 하는 파일(Socket File)</td>
    </tr>
    <tr>
      <td>p</td>
      <td>파이프 기능을 수행하는 파일(Pipe File)</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>파일의 소유자에게 허용되는 권한
    <ul>
      <li>rwx는 파일의 소유자에 대한 접근 권한</li>
    </ul>
  </li>
  <li>파일 소유자와 같은 그룹에 속한 사용자에게 허용되는 권한
    <ul>
      <li>r-x는 그룹에 대한 접근 권한</li>
    </ul>
  </li>
  <li>일반(Others) 권한
    <ul>
      <li>r-x는 파일 소유자 및 그룹에 속하지 않는 사용자들(others)에 대한 접근 권한</li>
    </ul>
  </li>
  <li>rwx의 r,w,x는 각각 읽기(Read), 쓰기(Write), 실행하기(eXecution)가 해당 사용자에게 허용됨을 의미
    <ul>
      <li>read, write, execution 각각에 대해 허용할지 말지를 3개의 플래그 비트로 표현</li>
      <li>r: 4(2진수 100)</li>
      <li>w: 2(2진수 10)</li>
      <li>x: 1(2진수 1)</li>
    </ul>
  </li>
  <li>rwx = (2진수 111) = (10진수 7)
    <ul>
      <li>read, write, execution 권한이 모두 허용됨을 의미</li>
    </ul>
  </li>
  <li>rwxrwxrwx = (2진수 111111111) = (10진수 777)
    <ul>
      <li>파일의 소유자, 그룹, others 모두에 대해 해당 파일에 대한 읽기, 쓰기, 실행 권한이 허용됨을 의미</li>
      <li>할 수 있으며, 권한을 777이라고 읽음</li>
    </ul>
  </li>
  <li>rwxr-x-r-x = (2진수 111101001) = (10진수 755)
    <ul>
      <li>파일 소유자에게 읽기, 쓰기, 실행 권한 모두 허용됨</li>
      <li>그룹 &amp; others에게는 읽기, 실행 권한만 혀용되며, 쓰기 권한은 허용안됨</li>
    </ul>
  </li>
  <li>rwxr-x–x = (2진수 111101001) = (10진수 751)
    <ul>
      <li>파일 소유자에게는 읽기, 쓰기, 실행 권한 모두 허용됨</li>
      <li>그룹에게는 읽기, 실행 권한만 허용되며, 쓰기 권한은 허용안됨</li>
      <li>Others에게는 실행 권한만 허용되며, 읽기, 쓰기는 허용안됨</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="쉘shell"><strong>쉘(shell)</strong></h2>

<ul>
  <li>사용자와 운영체제 간 상호 작용을 위한 command line interface를 제공하는 프로그램</li>
  <li>
    <p>사용자 입력 명령어 처리기(command line interpreter)</p>
  </li>
  <li>쉘 종류
    <ul>
      <li>Windows PowerShell</li>
      <li>Linux/Unix sh, csh, bash, ksh etc.</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>쉘(shell): 기본 명령어</p>
</blockquote>

<ul>
  <li>pwd: print working directory</li>
</ul>

<p><img src="\assets\built\images\sc2\sc6.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>cd: change directory</li>
</ul>

<p><img src="\assets\built\images\sc2\sc7.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>ls: 현재 디렉터리에 속한 파일 및 서브 디렉터리를 나열해서 보여줌
    <ul>
      <li>ls -l: 퍼미션, 소유자, 그룹, 파일크기 등 파일에 대한 자세한 내용을 출력</li>
      <li>ls -a: 숨겨진 파일이나 디렉터리도 보여줌</li>
      <li>ls -al 같이 둘 이상의 옵션을 복합적으로 줄 수도 있음</li>
    </ul>
  </li>
</ul>

<p><img src="\assets\built\images\sc2\sc8.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>mv: “move”의 약자로 파일이나 디렉토리를 원하는 곳으로 옮기거나, 이름을 변경할 떄 사용할 수 있는 명령어</li>
</ul>

<p><img src="\assets\built\images\sc2\sc9.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>cp: “copy”의 약자로 파일이나 디렉토리를 원하는 곳에 원하는 이름으로 복사하기 위한 명령어</li>
</ul>

<p><img src="\assets\built\images\sc2\sc10.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>echo: 인수로 주어진 문자열이나 환경변수 값을 출력해주는 명령어</li>
</ul>

<p><img src="\assets\built\images\sc2\sc11.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>cat: 하나 이상의 파일을 연결해서 출력해주는 명령어</li>
</ul>

<p><img src="\assets\built\images\sc2\sc12.png" alt="시스템클라우드보안" /></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span>
</code></pre></div></div>

<ul>
  <li>tail: 파일의 마지막 행을 기준으로 지정한 행까지의 파일 내용 일부를 출력해준다. 아무 옵션을 주지 않으면 기본적으로 10개 행을 출력</li>
</ul>

<p><img src="\assets\built\images\sc2\sc13.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>mkdir: “make directory”의 약자로 새로운 디렉토리를 만들 수 있는 명령어</li>
</ul>

<p><img src="\assets\built\images\sc2\sc14.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>
    <p>touch <파일명> : 현재 디렉토리에 주어진 <파일명>의 새로운 파일을 생성해주는 명령어</파일명></파일명></p>
  </li>
  <li>
    <p>rm: remove의 약자로 파일과 디렉토리 삭제에 사용되는 명령어</p>
  </li>
</ul>

<p><img src="\assets\built\images\sc2\sc15.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>
    <p>clear: 쉘 창에 있는 기록을 모두 지워주는 명령어</p>
  </li>
  <li>
    <p>chown: 파일이나 디렉토리의 소유권자 및 그룹식별자를 바꾸는 명령어</p>
  </li>
</ul>

<p><img src="\assets\built\images\sc2\sc16.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>chmod: “change mode” 약자로 파일이나 디렉토리의 퍼미션을 수정하기 위한 명령어</li>
</ul>

<p><img src="\assets\built\images\sc2\sc17.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>sudo: 일반 사용자가 root 권한을 잠시 빌려 명령을 실행할 수 있도록 하는 명령어이다</li>
</ul>

<p><img src="\assets\built\images\sc2\sc18.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>umask: 파일이나 디렉터리 생성 시 기본 접근권한을 설정할떄 사용하는 명령어
    <ul>
      <li>기본 파일 생성 시 최고 권한이 666이며, 디렉터리의 생성 시 최고 권한은 777이다</li>
      <li>파일 및 디렉터리 생성 시 기본 권한은 가능한 최고 권한에서 umask 값을 빼준 값이다</li>
      <li>기본 파일은 660-002=664가, 디렉터리는 777-002=775가 된다</li>
    </ul>
  </li>
</ul>

<p><img src="\assets\built\images\sc2\sc19.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>id: 현재 실행중인 쉘에 로그인 된 사용자 ID, 그룹 ID 등을 출력해주는 명령어
    <ul>
      <li>일반 사용자 계정으로 로그인한 경우
<img src="\assets\built\images\sc2\sc20.png" alt="시스템클라우드보안" /></li>
      <li>root 사용자로 로그인한 경우
<img src="\assets\built\images\sc2\sc21.png" alt="시스템클라우드보안" /></li>
    </ul>
  </li>
  <li>grep: 특정 파일 내에서 지정한 패턴을 가진 문자열을 찾은 후, 해당 문자열을 출력해주는 명령어. 패턴에는 정규표현식의 패턴을 사용</li>
</ul>

<p><img src="\assets\built\images\sc2\sc22.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>find: 파일 시스템에서 인자로 주어진 파일 및 디렉토리를 찾는 명령어
    <ul>
      <li>파일명으로 찾기(-name)
        <ul>
          <li>find . -name “*txt” 현재 디렉터리(모든 하위 디렉터리 포함)에서 확장자가 .txt인 파일 모두 찾음</li>
          <li>find . -name “*txt” -delete 현재 디렉터리에서 확장자가 .txt인 파일 모두 찾은 다음 삭제</li>
        </ul>
      </li>
      <li>타입으로 찾기(-type)
        <ul>
          <li>find . -name “*test” -type d 현재 디렉터리에서 이름에 test가 포함된 모든 디렉터리 찾기</li>
          <li>find . -type f 현재 디렉터리에서 모든 파일 찾기</li>
        </ul>
      </li>
      <li>파일 크기로 찾기(-empth, -size)
        <ul>
          <li>find . -empty 현재 디렉터리에서 빈 디렉터리 또는 크기가 0인 파일 찾ㄱ기</li>
          <li>find . -size + 1024c 현재 디렉터리에서 1024byte 보다 큰 파일 찾기</li>
          <li>find . -size + 1k -size -10k 1kb 보다 크고 10kb 보다 작은 파일 찾기</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>man: 명령어를 어떻게 쓰는지 설명해주는 내용을 출력해주는 명령어
    <ul>
      <li>main ls 실행 결과로 보여지는 내용</li>
    </ul>
  </li>
</ul>

<p><img src="\assets\built\images\sc2\sc23.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>Redirection: &gt;, »를 사용해서 주어진 명령 실행 결과로 출력되는 내용이 파일에 쓰여지도록 할 수 있다
    <ul>
      <li>&gt;: overwrite, »: append</li>
    </ul>
  </li>
</ul>

<p><img src="\assets\built\images\sc2\sc27.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Pipeline: 첫번쨰 명령 (</td>
          <td>기호 왼쪽) 실행 결과가 두번째 명령 (</td>
          <td>기호 오른쪽)으로 넘겨지도록 한다</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p><img src="\assets\built\images\sc2\sc28.png" alt="시스템클라우드보안" /></p>

<blockquote>
  <p>심볼릭링크 생성</p>
</blockquote>

<ul>
  <li>심볼릭링크 생성 명령어</li>
</ul>

<pre><code class="language-ㅊ">ln -s 우너본 링크파일
</code></pre>

<ul>
  <li>원본 파일 확인</li>
</ul>

<p><img src="\assets\built\images\sc2\sc24.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>심볼릭 링크 설정 및 확인</li>
</ul>

<p><img src="\assets\built\images\sc2\sc25.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>하드링크와 차이</li>
</ul>

<p><img src="\assets\built\images\sc2\sc26.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>하드 링크 파일의 inode number는 원본과 같다</li>
  <li>디스크 상에서 근본적으로 같은 파일이라 할 수 있다</li>
  <li>반면 심볼릭 링크는 디스크 상에서 다른 파일이며, 바로가기 파일이라 할 수 있다</li>
</ul>

<blockquote>
  <p>쉘 스크립트</p>
</blockquote>

<ul>
  <li>
    <p>파일에 쉘 명령어들을 나열해서 순차적으로 실행되도록 하는 것</p>
  </li>
  <li>쉘 스크립트 예시
    <ul>
      <li>#!/bin/sh: 파일에 작성된 내용은 쉘 스크립트라는 것을 시스템에 알려주는 역할
<img src="\assets\built\images\sc2\sc29.png" alt="시스템클라우드보안" /></li>
      <li>아래 두가지 방법 중 하나로 쉘 스크립트 실행
<img src="\assets\built\images\sc2\sc30.png" alt="시스템클라우드보안" />
<img src="\assets\built\images\sc2\sc31.png" alt="시스템클라우드보안" /></li>
    </ul>
  </li>
  <li>read로 입력, echo로 출력</li>
</ul>

<p><img src="\assets\built\images\sc2\sc32.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>변수 활용</li>
</ul>

<p><img src="\assets\built\images\sc2\sc33.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>특별한 변수</li>
</ul>

<p><img src="\assets\built\images\sc2\sc34.png" alt="시스템클라우드보안" /></p>

<ul>
  <li>배열</li>
  <li>조건문: if elif else if, case문</li>
  <li>반목문: for, while, until</li>
  <li>함수</li>
</ul>

<blockquote>
  <p>sudo 명령어</p>
</blockquote>

<ul>
  <li>다른 사용자 권한, 보통은 root 사용자 권한으로 프로그램을 실행할 수 있도록 하는 명령어이다</li>
  <li>sudo 명령어를 사용하면 일반 사용자가 root 사용자 자격으로 프로그램을 실행할 수 있기 때문에 보안에 대한 고려가 반드시 필요</li>
  <li>/etc/sudoers 파일: 어느 사용자/그룹에게 어떤 프로그램 실행에 대해서 sudo 사용을 허용할 것인지에 대한 룰을 설정</li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to LEE</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            
            -->


            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/lee989898">lee989898</a></h4>
                                
                                    <p><a href="https://github.com/lee989898">깃허브</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/lee989898">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://lee989898.github.io/sc2-03';
                            var this_page_identifier = '/sc2-03';
                            var this_page_title = '리눅스 사용자 계정과 권한 체계, 쉘 기본';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; LEE &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/systemcloud/">Systemcloud</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/sc2-05">환경변수와 공격들</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/sc2-04">Set-UID Privileged Programs</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/sc2-02">정보보안 기본 3원칙</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/systemcloud/">
                                
                                    See all 4 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/bc-02">
                <div class="post-card-image" style="background-image: url(/assets/built/images/blockchain-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/bc-02">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Blockchain</span>
                            
                        
                    

                    <h2 class="post-card-title">Bitcoin, white paper</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>Introduction

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      3 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/ad">
                <div class="post-card-image" style="background-image: url(/assets/built/images/android-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/ad">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Android</span>
                            
                        
                    

                    <h2 class="post-card-title">안드로이드 면접 준비</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>안드로이드 면접 준비

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      15 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://lee989898.github.io/">
            
            <span>LEE</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">리눅스 사용자 계정과 권한 체계, 쉘 기본</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%EB%A6%AC%EB%88%85%EC%8A%A4+%EC%82%AC%EC%9A%A9%EC%9E%90+%EA%B3%84%EC%A0%95%EA%B3%BC+%EA%B6%8C%ED%95%9C+%EC%B2%B4%EA%B3%84%2C+%EC%89%98+%EA%B8%B0%EB%B3%B8&amp;url=https://lee989898.github.io/sc2-03"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://lee989898.github.io/sc2-03"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://lee989898.github.io/">LEE</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search LEE</h1>
            <p class="subscribe-overlay-description">
                lunr.js를 이용한 posts 검색 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
