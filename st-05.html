<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Process</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹 폰트 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="공부 블로그" />
    <link rel="shortcut icon" href="https://lee989898.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://lee989898.github.io/st-05" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    


     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="LEE" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Process" />
    <meta property="og:description" content="Process Definition of Process 실행 중인 프로그램 프로그램 데이터와 instructions로 구성된 파일 프로그램은 수동적이다 프로그램을 실행시키기 위해서는 커널 루틴, 리소스(cpu,메모리 등)으로부터 지원을 받아야 한다 프로세스는 다음과 같이 다르게 정의될 수 있다 프로그램 + HW/SW 실행에 필요한 프로그램 프로그램을 실행할 수 있는 환경 Environment ​ 이미지 또는 컨텍스트라고도 함 프로그램 텍스트," />
    <meta property="og:url" content="https://lee989898.github.io/st-05" />
    <meta property="og:image" content="https://lee989898.github.io/assets/built/images/system-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-10-06T01:06:00+09:00" />
    <meta property="article:modified_time" content="2021-10-06T01:06:00+09:00" />
    <meta property="article:tag" content="System" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Process" />
    <meta name="twitter:description" content="Process Definition of Process 실행 중인 프로그램 프로그램 데이터와 instructions로 구성된 파일 프로그램은 수동적이다 프로그램을 실행시키기 위해서는 커널 루틴, 리소스(cpu,메모리 등)으로부터 지원을 받아야 한다 프로세스는 다음과 같이 다르게 정의될 수 있다 프로그램 + HW/SW 실행에 필요한 프로그램 프로그램을 실행할 수 있는 환경 Environment ​ 이미지 또는 컨텍스트라고도 함 프로그램 텍스트," />
    <meta name="twitter:url" content="https://lee989898.github.io/" />
    <meta name="twitter:image" content="https://lee989898.github.io/assets/built/images/system-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="LEE" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="System" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "LEE",
        "logo": "https://lee989898.github.io/"
    },
    "url": "https://lee989898.github.io/st-05",
    "image": {
        "@type": "ImageObject",
        "url": "https://lee989898.github.io/assets/built/images/system-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://lee989898.github.io/st-05"
    },
    "description": "Process Definition of Process 실행 중인 프로그램 프로그램 데이터와 instructions로 구성된 파일 프로그램은 수동적이다 프로그램을 실행시키기 위해서는 커널 루틴, 리소스(cpu,메모리 등)으로부터 지원을 받아야 한다 프로세스는 다음과 같이 다르게 정의될 수 있다 프로그램 + HW/SW 실행에 필요한 프로그램 프로그램을 실행할 수 있는 환경 Environment ​ 이미지 또는 컨텍스트라고도 함 프로그램 텍스트,"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Process" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://lee989898.github.io/">LEE</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-kotlin" role="menuitem"><a href="/tag/kotlin/">코틀린</a></li>
    <li class="nav-algorithm" role="menuitem"><a href="/tag/algorithm/">알고리즘</a></li>
    <li class="nav-pl" role="menuitem"><a href="/tag/pl/">프로그래밍언어</a></li>
    <li class="nav-android" role="menuitem"><a href="/tag/android/">안드로이드</a></li>
    <li class="nav-security" role="menuitem"><a href="/tag/security/">컴퓨터보안</a></li>
    <li class="nav-system" role="menuitem"><a href="/tag/system/">시스템프로그래밍</a></li>
    <li class="nav-systemcloud" role="menuitem"><a href="/tag/systemcloud/">시스템클라우드보안</a></li>
    <li class="nav-blockchain" role="menuitem"><a href="/tag/blockchain/">블록체인</a></li>
    <li class="nav-archive" role="menuitem">
        
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>


</ul>



        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-system post tag-system ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 6 October 2021"> 6 October 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/system/'>SYSTEM</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Process</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/system-logo.png)">
            </figure>
            
            -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h3 id="process"><strong>Process</strong></h3>

<hr />

<blockquote>
  <p>Definition of Process</p>
</blockquote>

<ul>
  <li>실행 중인 프로그램</li>
  <li>프로그램
    <ul>
      <li>데이터와 instructions로 구성된 파일</li>
      <li>프로그램은 수동적이다</li>
    </ul>
  </li>
  <li>프로그램을 실행시키기 위해서는 커널 루틴, 리소스(cpu,메모리 등)으로부터 지원을 받아야 한다</li>
  <li>프로세스는 다음과 같이 다르게 정의될 수 있다
    <ul>
      <li>프로그램 + HW/SW 실행에 필요한 프로그램</li>
      <li>프로그램을 실행할 수 있는 환경</li>
    </ul>
  </li>
  <li>Environment ​
    <ul>
      <li>이미지 또는 컨텍스트라고도 함</li>
      <li>프로그램 텍스트, 힙, 스택, 레지스터 값, 시스템 데이터(현재 디렉토리, open 파일 디스크립터, 누적 CPU 시간 등)로 구성</li>
    </ul>
  </li>
</ul>

<hr />

<blockquote>
  <p>Modes of Process</p>
</blockquote>

<ul>
  <li>사용자 프로세스는 호출될 커널 프로세스를 트리거하는 시스템 호출을 사용할 수 있다</li>
  <li>User process / kernel process
    <ul>
      <li>트랩 명령(또는 인터럽트)은 사용자 프로세스(모드)에서 커널 프로세스(모드)로의 전환을 할 수 있다</li>
      <li>커널 프로세스에서 사용자 프로세스로 복귀</li>
    </ul>
  </li>
</ul>

<hr />

<blockquote>
  <p>Process Level</p>
</blockquote>

<ul>
  <li>Level 0: swapper (scheduler)​</li>
  <li>Level 1: kernel process​</li>
  <li>Level 2: system process​</li>
  <li>
    <p>Level 3: cmd process</p>
  </li>
  <li>Swapper (scheduler) process​
    <ul>
      <li>스스로 프로세스가 되어 실행을 시작하는 커널 프로그램</li>
    </ul>
  </li>
  <li>fork() system call​
    <ul>
      <li>부모 프로세스는 fork()를 호출하여 자식 프로세스를 생성한다</li>
      <li>자식 프로세스는 부모 프로세스의 모든 환경을 상속한다</li>
    </ul>
  </li>
  <li>각 프로세스가 생성될 때 고유 번호(프로세스 ID)가 할당된다</li>
  <li>ID가 0인 프로세스는 특별한 커널 프로세스이다</li>
  <li>프로세스 0 forks()하면 init라고 하는 다른 프로세스(ID 1)생긴다</li>
  <li>fork init 후 프로세스 0은 스와퍼(또는 스케줄러)가 된다.</li>
</ul>

<hr />

<blockquote>
  <p>Process Tree</p>
</blockquote>

<ul>
  <li>Init 프로세스는 시스템에서 생성된 모든 프로세스의 조상이 된다</li>
  <li>Init​
    <ul>
      <li>sendmail, crom, etc. ​</li>
      <li>사용자 ID/암호를 묻는 프로세스 -&gt; Shell​</li>
    </ul>
  </li>
  <li>따라서 init 프로세스를 루트로 하여 “프로세스 트리”가 형성된다</li>
</ul>

<hr />

<blockquote>
  <p>Process: State</p>
</blockquote>

<ul>
  <li>New: 프로세스 생성 중</li>
  <li>Running: 명령이 실행되고 있다</li>
  <li>Waiting: 프로세스가 어떤 이벤트가 발생하기를 기다리고 있다</li>
  <li>Ready: 프로세스가 프로세서에 할당되기를 기다리고 있다</li>
  <li>Terminated: 프로세스가 실행을 완료했다</li>
</ul>

<hr />

<blockquote>
  <p>Process Group</p>
</blockquote>

<ul>
  <li>동일한 로그인 셸(상위 프로세스)에서 생성된 프로세스를 프로세스 그룹이라고 한다</li>
  <li>프로세스 그룹 ID로 식별한다</li>
</ul>

<hr />

<blockquote>
  <p>Process Priority</p>
</blockquote>

<ul>
  <li>각 프로세스에는 우선 순위가 지정된다</li>
  <li>Swapper는 우선 순위가 가장 높은 프로세스를 선택한다</li>
  <li>우선 순위 범위는 0(최고) ~ 127(최저)
    <ul>
      <li>프로세스의 우선 순위를 확인하려면 “%ps -ef” 및 “%ps -el”을 사용하면 된다</li>
    </ul>
  </li>
  <li>모든 프로세스에 동등한 기회를 제공하기 위해 우선 순위가 동적으로 변경된다</li>
  <li>“nice” 명령(nice() 시스템 호출)은 자발적으로 프로세스의 우선 순위를 낮추는 데 사용된다 ​</li>
</ul>

<hr />

<blockquote>
  <p>Process ID</p>
</blockquote>

<ul>
  <li>User ID​
    <ul>
      <li>Real user ID​</li>
      <li>Effective user ID​</li>
    </ul>
  </li>
  <li>Group ID​
    <ul>
      <li>Real user ID​</li>
      <li>Effective user ID​</li>
    </ul>
  </li>
</ul>

<hr />

<blockquote>
  <p>Signal</p>
</blockquote>

<ul>
  <li>실행중인 프로세스를 외부에서 제어하는 수단​</li>
  <li>프로세스간에 동기화를 얻는 수단​</li>
  <li>SW interrupt 로 구현됨​</li>
  <li>kill() system call 을 이용하여 process 간에 signal 들을 보냄​</li>
  <li>signal() system call specifies “what to do” when a process receives a signal​</li>
  <li>Try “% kill –l”</li>
</ul>

<hr />

<ul>
  <li>Process: Creation
    <ul>
      <li>프로세스는 여러 개의 새로운 프로세스를 생성할 수 있다</li>
      <li>생성 프로세스: parent 프로세스</li>
      <li>새로 생성된 프로세스: child 프로세스
        <ul>
          <li>fork() 시스템 호출은 새로운 프로세스를 생성한다</li>
        </ul>
      </li>
      <li>리소스 공유
        <ul>
          <li>자식은 부모의 일부 리소스를 공유합니다</li>
        </ul>
      </li>
      <li>Execution​
        <ul>
          <li>부모와 자식이 함께 실행</li>
          <li>부모는 자식이 끝날 때까지 기다린다</li>
          <li>wait() 시스템 호출은 자식이 종료될 때까지 기다린다</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<blockquote>
  <p>Process: Exit</p>
</blockquote>

<ul>
  <li>프로세스는 최종 명령 실행을 마치면 종료된다</li>
  <li>exit() 시스템 호출을 사용하여 운영 체제에 자신을 삭제하도록 요청한다
    <ul>
      <li>프로세스는 데이터를 부모 프로세스로 반환할 수 있다(wait() 시스템 호출을 통해)</li>
      <li>프로세스의 모든 리소스(물리적 및 가상 메모리, open 파일 및 I/O 버퍼 포함)는 운영 체제에 의해 할당 해제된다.</li>
    </ul>
  </li>
  <li>프로세스는 적절한 시스템 호출(예: abort())을 통해 다른 프로세스를 종료할 수 있다.</li>
  <li>사용자가 임의로 프로세스를 종료(kill)</li>
</ul>

<hr />

<blockquote>
  <p>Process Start</p>
</blockquote>

<ul>
  <li>int main(int argc, char *argv[]);​
    <ul>
      <li>arc :     command-line arguments의 수​</li>
      <li>argv[] :  arguments​에 대한 포인터 배열</li>
    </ul>
  </li>
  <li>C start-up routine​
    <ul>
      <li>커널에 의해 시작됨(by the exec system call)​</li>
      <li>커널에서 command-line arguments와 environment 가져오기</li>
      <li>Call main</li>
    </ul>
  </li>
</ul>

<hr />

<blockquote>
  <p>Process Termination</p>
</blockquote>

<ul>
  <li>Normal termination
    <ul>
      <li>return from main()​</li>
      <li>calling exit() : ​</li>
      <li>calling _exit() ​</li>
    </ul>
  </li>
  <li>Abnormal termination
    <ul>
      <li>calling abort()​</li>
      <li>terminated by a signal</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>exit()</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdlib.h&gt;
</span>
<span class="kt">void</span> <span class="nf">exit</span><span class="p">(</span><span class="kt">int</span> <span class="n">status</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>정상적인 프로세스 종료</li>
  <li>Execution of clean-up processing​
    <ul>
      <li>열려 있는 모든 스트림 닫기</li>
      <li>출력 버퍼의 내용을 디스크에 쓰기</li>
    </ul>
  </li>
  <li>상태
    <ul>
      <li>프로세스의 종료 상태</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>_exit()</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;unistd.h&gt;
</span>
<span class="kt">void</span> <span class="nf">_exit</span><span class="p">(</span><span class="kt">int</span> <span class="n">status</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>정상적인 프로세스 종료</li>
  <li>즉시 커널로 돌아가기</li>
</ul>

<blockquote>
  <p>atexit()</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdlib.h&gt;
</span>
<span class="kt">void</span> <span class="nf">atexit</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="kt">void</span><span class="p">));</span>
</code></pre></div></div>

<ul>
  <li>사용자가 정의한 종료 핸들러를 등록한다
    <ul>
      <li>프로세스당 최대 32개</li>
    </ul>
  </li>
  <li>기능
    <ul>
      <li>종료 핸들러</li>
      <li>함수 포인터</li>
    </ul>
  </li>
  <li>exit()는 등록의 역순으로 exit 핸들러를 호출한다</li>
  <li>비정상 종료(abort) 시 atexit에 등록된 기능이 실행되지 않음</li>
</ul>

<hr />

<blockquote>
  <p>Command-Line Arguments</p>
</blockquote>

<ul>
  <li>exec() 및 C-start-up 루틴은 새 프로그램에 command-line arguments를 전달한다</li>
  <li>Linux 셸의 정상 작동의 일부</li>
  <li>argv[argc]는 NULL 문자(ANSI, POSIX.1)이다</li>
</ul>

<hr />

<blockquote>
  <p>Environment Variable</p>
</blockquote>

<ul>
  <li>환경 변수는 부모 프로세스에서 자식 프로세스로 전송된다</li>
  <li>파일(.login 또는 .cshrc)에 설정된 환경 변수</li>
  <li>환경 변수: 이름 = 값</li>
  <li>전역 변수 “environ”을 사용하여 환경 변수에 액세스한다
    <ul>
      <li>#include <stdlib.h></stdlib.h></li>
      <li>extern char ** environ;</li>
    </ul>
  </li>
  <li>각 환경 변수는 “name=value” 형식의 문자열로 구성된다
    <ul>
      <li>각 문자열은 ‘\0’으로 끝난다</li>
      <li>마지막 환경 변수 목록은 널 포인터이다.</li>
    </ul>
  </li>
  <li>argv와 같은 구조</li>
</ul>

<blockquote>
  <p>getenv()</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdlib.h&gt;
</span>
<span class="kt">char</span> <span class="o">*</span><span class="nf">getenv</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
  <span class="err">반환값</span><span class="o">:</span> <span class="err">이름과</span> <span class="err">관련된</span> <span class="err">값에</span> <span class="err">대한</span> <span class="err">포인터</span><span class="p">,</span> <span class="err">찾을</span> <span class="err">수</span> <span class="err">없으면</span> <span class="nb">NULL</span>
</code></pre></div></div>

<ul>
  <li>주어진 이름의 문자열에 대한 환경 목록 검색</li>
  <li>일치하는 항목이 발견되면 해당 이름과 관련된 값을 반환한다.</li>
  <li>요청한 변수가 존재하지 않으면 null을 반환한다</li>
</ul>

<blockquote>
  <p>putenv()</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdlib.h&gt;
</span>
<span class="kt">int</span> <span class="nf">putenv</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">);</span>
  <span class="err">반환값</span><span class="o">:</span> <span class="err">정상이면</span> <span class="mi">0</span><span class="p">,</span> <span class="err">오류</span> <span class="err">시</span> <span class="mi">0</span><span class="err">이</span> <span class="err">아닌</span> <span class="err">값</span>
</code></pre></div></div>

<ul>
  <li>“name=value” 형식의 문자열을 취한다.</li>
  <li>현재 환경 목록에 추가</li>
</ul>

<blockquote>
  <p>setenv() / unsetenv()</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdlib.h&gt;​
</span>
<span class="kt">int</span> <span class="n">setenv</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">value</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rewrite</span><span class="p">;</span> 
 <span class="err">반환값</span><span class="o">:</span> <span class="err">정상이면</span> <span class="mi">0</span><span class="p">,</span> <span class="err">오류</span> <span class="err">시</span> <span class="mi">0</span><span class="err">이</span> <span class="err">아님</span>

<span class="kt">void</span> <span class="nf">unsetenv</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span><span class="err">​</span> 
</code></pre></div></div>

<ul>
  <li>etenv 등록 환경 변수 이름 = 값</li>
  <li>같은 이름의 환경변수가 존재하는 경우
    <ul>
      <li>rewrite != 0 -&gt; change new value​</li>
      <li>rewrite = 0 -&gt; not change</li>
    </ul>
  </li>
  <li>unsetenv는 환경 변수 이름을 제거한다</li>
</ul>

<hr />

<blockquote>
  <p>Memory Layout of a program​</p>
</blockquote>

<p><img src="\assets\built\images\st\st11.png" alt="시스템프로그래밍" /></p>

<ul>
  <li>텍스트 세그먼트: 기계 instructions(읽기 전용, 공유 가능)</li>
  <li>초기화된 데이터 세그먼트:​
    <ul>
      <li>e.g. int maxcount = 99; (initialized)​</li>
    </ul>
  </li>
  <li>초기화되지 않은 데이터 세그먼트 또는 bss (block started by symbol)​
    <ul>
      <li>e.g. long sum[1000];​</li>
      <li>프로그램이 실행되기 전에 exec에 의해 0 또는 널 포인터로 초기화됨</li>
    </ul>
  </li>
</ul>

<p>(Use “size” command: % size a.out)​</p>

<ul>
  <li>Heap: ​
    <ul>
      <li>동적 메모리 할당 (malloc, etc.)​</li>
    </ul>
  </li>
  <li>Stack: ​
    <ul>
      <li>자동 변수, 임시 변수, 반환 주소, 호출자 환경(레지스터)</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>Shared library</p>
</blockquote>

<ul>
  <li>Static linking library​
    <ul>
      <li>라이브러리 루틴이 실행 파일에 추가된다</li>
      <li>실행 파일 크기 증가</li>
    </ul>
  </li>
  <li>Shared library​
    <ul>
      <li>파일 실행을 위한 라이브러리 루틴 포함</li>
      <li>라이브러리 루틴은 공유 메모리에 로드되고 실행 중에 공유된다</li>
      <li>프로그램 크기는 증가하지 않는다</li>
      <li>처음 실행할 때 오버헤드가 발생한다</li>
    </ul>
  </li>
  <li>Static libraries as .a (archive files)​
    <ul>
      <li>관련된 재배치 가능한 개체 파일을 인덱스(아카이브라고 함)가 있는 단일 파일로 연결한다</li>
      <li>아카이브 구성원 파일이 참조를 확인하는 경우 실행 파일에 링크한다</li>
    </ul>
  </li>
</ul>

<p><img src="\assets\built\images\st\st12.png" alt="시스템프로그래밍" /></p>

<ul>
  <li>libc.a (the C standard library)​
    <ul>
      <li>1392개 개체 파일의 8MB 아카이브.</li>
      <li>I/O, memory allocation, signal handling, string handling, data and time, random numbers, integer math​</li>
    </ul>
  </li>
  <li>libm.a (the C math library)​
    <ul>
      <li>401개 개체 파일의 1MB 아카이브.​</li>
      <li>floating point math (sin, cos, tan, log, exp, sqrt, …) ​</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>Shared Libraries</p>
</blockquote>

<ul>
  <li>정적 라이브러리에는 저장된 실행 파일이 중복된다는 단점이 있다(모든 기능에는 std libc가 필요함)</li>
  <li>최신 솔루션: 공유 라이브러리​
    <ul>
      <li>응용 프로그램에 동적으로 로드 및 연결,​
        <ul>
          <li>로드 타임 또는 런타임 시</li>
        </ul>
      </li>
      <li>동적 링크 라이브러리, DLL, .so 파일이라고도 함</li>
      <li>일반적으로 동적으로 연결되는 표준 C 라이브러리(libc.so)</li>
    </ul>
  </li>
  <li>동적 연결은 프로그램이 시작된 후에도 발생할 수 있다 (런타임 링크)</li>
</ul>

<hr />

<blockquote>
  <p>Memory Allocation​</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdlib.h&gt;​
</span>
<span class="kt">void</span> <span class="o">*</span><span class="nf">malloc</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">size</span><span class="p">);</span><span class="err">​</span>
<span class="kt">void</span> <span class="o">*</span><span class="nf">calloc</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">nobj</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">);</span><span class="err">​</span>
<span class="kt">void</span> <span class="o">*</span><span class="nf">realloc</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">ptr</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">newsize</span><span class="p">);</span><span class="err">​</span>
  <span class="err">반환</span><span class="o">:</span> <span class="err">정상이면</span> <span class="err">널이</span> <span class="err">아닌</span> <span class="err">포인터</span><span class="p">,</span> <span class="err">오류</span> <span class="err">시</span> <span class="nb">NULL</span>
<span class="kt">void</span> <span class="nf">free</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>힙에 동적 메모리 할당</li>
  <li>적절한 정렬 제공
    <ul>
      <li>ex) double은 8의 배수인 주소에서 시작해야 한다</li>
    </ul>
  </li>
  <li>
    <p>라이브러리는 메모리 풀을 관리한다</p>
  </li>
  <li>malloc(): ​
    <ul>
      <li>지정된 바이트 수 할당</li>
      <li>메모리의 초기 값이 결정되지 않음</li>
    </ul>
  </li>
  <li>calloc(): ​
    <ul>
      <li>지정된 크기의 지정된 수의 개체 할당​</li>
      <li>모두 0비트로 초기화</li>
    </ul>
  </li>
  <li>realloc(): ​
    <ul>
      <li>이전에 할당된 메모리의 크기를 변경합니다.</li>
      <li>새로운 영역의 초기 값이 결정되지 않음</li>
    </ul>
  </li>
</ul>

<hr />

<blockquote>
  <p>setjmp() / longjmp() ​</p>
</blockquote>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;setjmp.h&gt;​
</span>
<span class="kt">int</span> <span class="nf">setjmp</span><span class="p">(</span><span class="kt">jmp_buf</span> <span class="n">env</span><span class="p">);</span><span class="err">​</span>
  <span class="err">반환값</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="err">직접</span> <span class="err">호출된</span> <span class="err">경우</span>
  <span class="err">없음</span> <span class="mi">0</span><span class="p">,</span> <span class="n">longjmp</span> <span class="err">호출에서</span> <span class="err">반환하는</span> <span class="err">경우</span>
<span class="kt">void</span> <span class="nf">longjmp</span><span class="p">(</span><span class="kt">jmp_buf</span> <span class="n">env</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">);</span><span class="err">​</span>
</code></pre></div></div>

<ul>
  <li>함수 호출 건너뛰기(nonlocal goto)</li>
  <li>깊이 중첩된 함수 호출에서 오류 조건을 처리하는 데 유용하다
    <ul>
      <li>오류가 발생했을 때 빠르게 main()으로 돌아가고 싶은 경우</li>
      <li>많은 수의 수준 각 오류에 대해 각 수준에서 반환 처리</li>
      <li>Direct nonlocal goto: setjmp, longjmp​</li>
    </ul>
  </li>
  <li>env: setjmp 및 longjmp에 사용되는 전역 변수​</li>
  <li>setjmp: env의 setjmp 지점으로 돌아가기 위한 정보 저장
    <ul>
      <li>직접 호출하면 0 반환</li>
      <li>longjmp에 대한 호출에서 반환하는 경우 0이 아닌 값을 반환한다</li>
    </ul>
  </li>
  <li>longjmp: env를 사용하여 setjmp 지점으로 이동하고 val을 반환 값으로 사용
    <ul>
      <li>여러 longjmp가 다른 val로 동일한 setjmp 위치를 사용할 수 있다</li>
    </ul>
  </li>
  <li>env는 다른 함수에서 참조할 수 있다</li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to LEE</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            
            -->


            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/lee989898">lee989898</a></h4>
                                
                                    <p><a href="https://github.com/lee989898">깃허브</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/lee989898">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://lee989898.github.io/st-05';
                            var this_page_identifier = '/st-05';
                            var this_page_title = 'Process';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; LEE &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/system/">System</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/st-10">POSIX Thread Programming</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/st-09">프로세스통신-socket</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/st-08">프로세스통신-pipe</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/system/">
                                
                                    See all 9 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/pl-12">
                <div class="post-card-image" style="background-image: url(/assets/built/images/pl-background-frontend.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/pl-12">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Pl</span>
                            
                        
                    

                    <h2 class="post-card-title">데이터 타입</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>데이터 타입

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      2 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/algorithm-04">
                <div class="post-card-image" style="background-image: url(/assets/built/images/algorithm-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/algorithm-04">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Algorithm</span>
                            
                        
                    

                    <h2 class="post-card-title">동적 계획</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>동적 계획

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="lee989898" />
                        
                        <span class="post-card-author">
                            <a href="/author/lee989898/">lee989898</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      2 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://lee989898.github.io/">
            
            <span>LEE</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Process</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Process&amp;url=https://lee989898.github.io/st-05"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://lee989898.github.io/st-05"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://lee989898.github.io/">LEE</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search LEE</h1>
            <p class="subscribe-overlay-description">
                lunr.js를 이용한 posts 검색 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
